<?php $positionArgument = array ( 'bottom_left' => array ( 'radius' => 'right', 'position' => 'bottom:0;left:0;', 'posv' => 'b', 'pos' => 'l', 'position_body' => 'bottom:0;left:0;', 'shadow' => '1px -1px 5px', 'moz_radius' => 'topright', 'widget_hover' => '', 'padding_text' => '10px 10px 10px 35px', 'chrome_radius' => 'top-right', 'border_widget' => 'border:1px solid #'.($theme !== false ? $theme->bor_bcolor : 'e3e3e3').';border-left:0;border-bottom:0;', 'background_position' => '0', 'widget_radius' => '-webkit-border-top-right-radius: 20px;-moz-border-radius-topright: 20px;border-top-right-radius: 20px;', 'nh_hor_pos' => 'margin-left:10px;', 'nh_tr_pos' => 'left:18px;', 'mobile_position' => 'height:25px !important;right:auto !important;left:0;top:auto !important;bottom:0 !important;', 'mobile_position_status' => 'width:auto;padding:0;border-radius:0px;bottom:50px;left:5px;right:auto;top:auto;', 'widget_hover_modern' => '', 'nh_hor_pos_modern' => 'margin-left:-5px;', 'mobile_position_modern' => 'bottom:15px!important;left:15px!important;right:auto !important;top:auto !important;background:none;box-shadow:none;overflow:visible', 'position_modern' => 'left:15px;bottom:15px;', 'border_status_modern' => 'border:2px solid #'.($theme !== false ? $theme->bor_bcolor : 'FFF').';', 'shadow_modern' => '0px 0px 17px', 'widget_radius_modern' => '-webkit-border-radius:47px;-moz-border-radius47px;border-radius:47px', 'mobile_position_status_modern' => '' ), 'bottom_right' => array ( 'pos' => 'r', 'posv' => 'b', 'radius' => 'left', 'position' => 'bottom:0;right:0;', 'position_body' => 'bottom:0;right:0;', 'shadow' => '-1px -1px 5px', 'moz_radius' => 'topleft', 'widget_hover' => '', 'padding_text' => '10px 10px 10px 35px', 'background_position' => 'left', 'chrome_radius' => 'top-left', 'border_widget' => 'border:1px solid #'.($theme !== false ? $theme->bor_bcolor : 'e3e3e3').';border-right:0;border-bottom:0;', 'widget_radius' => '-webkit-border-top-left-radius: 20px;-moz-border-radius-topleft: 20px;border-top-left-radius: 20px;', 'nh_hor_pos' => 'margin-left:-80px;', 'nh_tr_pos' => 'right:20px;', 'mobile_position' => 'height:25px !important;left:auto !important;right:0;top:auto !important;bottom:0 !important;', 'mobile_position_status' => 'width:auto;padding:0;border-radius:0px;bottom:50px;right:5px;left:auto;top:auto;', 'widget_hover_modern' => '', 'nh_hor_pos_modern' => 'margin-left:-200px;', 'mobile_position_modern' => 'bottom:12px!important;right:15px!important;left:auto !important;top:auto !important;background:none;box-shadow:none;overflow:visible', 'position_modern' => 'bottom:15px;right:15px;', 'border_status_modern' => 'border:2px solid #'.($theme !== false ? $theme->bor_bcolor : 'FFF').';', 'shadow_modern' => '0px 0px 17px', 'widget_radius_modern' => '-webkit-border-radius:47px;-moz-border-radius47px;border-radius:47px', 'mobile_position_status_modern' => '' ), 'middle_right' => array ( 'pos' => 'r', 'posv' => 't', 'radius' => 'left', 'position' => "top:" . $top_pos . $units . ";right:-155px;", 'position_body' => "top::" . $top_pos . $units . ";right:0px;", 'shadow' => '1px -1px 5px', 'border_widget' => 'border:1px solid #'.($theme !== false ? $theme->bor_bcolor : 'e3e3e3').';border-right:0;', 'widget_hover' => 'right:0;transition: 1s;', 'moz_radius' => 'topleft', 'padding_text' => '10px 10px 10px 35px', 'background_position' => '0', 'chrome_radius' => 'top-left', 'widget_radius' => '-webkit-border-top-left-radius: 20px;-moz-border-radius-topleft: 20px;border-top-left-radius: 20px;      -webkit-border-bottom-left-radius: 20px;-moz-border-radius-bottomleft: 20px;border-bottom-left-radius: 20px;', 'nh_hor_pos' => 'margin-left:-230px;', 'nh_tr_pos' => 'right:18px;', 'mobile_position' => 'height:25px !important;left:auto !important;right:0;top:auto !important;bottom:0 !important;', 'mobile_position_status' => 'width:auto;padding:0;border-radius:0px;bottom:50px;right:5px;left:auto;top:auto;', 'widget_hover_modern' => '', 'nh_hor_pos_modern' => 'margin-left:-200px;', 'mobile_position_modern' => "top:{$top_pos}{$units}!important;right:15px!important;left:auto !important;bottom:auto !important;background:none;box-shadow:none;overflow:visible", 'position_modern' => "top:{$top_pos}{$units};right:15px;", 'border_status_modern' => 'border:2px solid #'.($theme !== false ? $theme->bor_bcolor : 'FFF').';', 'shadow_modern' => '0px 0px 17px', 'widget_radius_modern' => '-webkit-border-radius:47px;-moz-border-radius47px;border-radius:47px', 'mobile_position_status_modern' => '' ), 'middle_left' => array ( 'radius' => 'left', 'position' => "top:{$top_pos}{$units};left:-155px;", 'position_body' => "top:{$top_pos}{$units};left:0px;", 'shadow' => '1px -1px 5px', 'border_widget' => 'border:1px solid #'.($theme !== false ? $theme->bor_bcolor : 'e3e3e3').';border-left:0;', 'padding_text' => '10px 35px 10px 9px', 'widget_hover' => 'left:0;transition: 1s;', 'moz_radius' => 'topright', 'posv' => 't', 'pos' => 'l', 'background_position' => '95%', 'chrome_radius' => 'top-right', 'widget_radius' => '-webkit-border-top-right-radius: 20px;-moz-border-radius-topright: 20px;border-top-right-radius: 20px;      -webkit-border-bottom-right-radius: 20px;-moz-border-radius-bottomright: 20px;border-bottom-right-radius: 20px;', 'nh_hor_pos' => 'margin-left:160px;', 'nh_tr_pos' => 'left:18px;', 'mobile_position' => 'height:25px !important;right:auto !important;left:0;top:auto !important;bottom:0 !important;', 'mobile_position_status' => 'width:auto;padding:0;border-radius:0px;bottom:50px;left:5px;right:auto;top:auto;', 'widget_hover_modern' => '', 'nh_hor_pos_modern' => 'margin-left:20px;', 'mobile_position_modern' => "top:{$top_pos}{$units}!important;left:15px!important;right:auto !important;bottom:auto !important;background:none;box-shadow:none;overflow:visible", 'position_modern' => "top:{$top_pos}{$units};left:15px;", 'border_status_modern' => 'border:2px solid #'.($theme !== false ? $theme->bor_bcolor : 'FFF').';', 'shadow_modern' => '0px 0px 17px', 'widget_radius_modern' => '-webkit-border-radius:47px;-moz-border-radius47px;border-radius:47px', 'mobile_position_status_modern' => '' ), 'full_height_right' => array ( 'full_height' => true, 'pos' => 'r', 'posv' => 'b', 'radius' => 'left', 'position' => 'bottom:0;right:0;', 'position_body' => 'bottom:0;right:0;', 'shadow' => '-1px -1px 5px', 'moz_radius' => 'topleft', 'widget_hover' => '', 'padding_text' => '10px 10px 10px 35px', 'background_position' => 'left', 'chrome_radius' => 'top-left', 'border_widget' => 'border:1px solid #'.($theme !== false ? $theme->bor_bcolor : 'e3e3e3').';border-right:0;border-bottom:0;', 'widget_radius' => '-webkit-border-top-left-radius: 20px;-moz-border-radius-topleft: 20px;border-top-left-radius: 20px;', 'nh_hor_pos' => 'margin-left:-80px;', 'nh_tr_pos' => 'right:15px;', 'mobile_position' => 'height:25px !important;left:auto !important;right:0;top:auto !important;bottom:0 !important;', 'mobile_position_status' => 'width:auto;padding:0;border-radius:0px;bottom:50px;right:5px;left:auto;top:auto;', 'widget_hover_modern' => '', 'nh_hor_pos_modern' => 'margin-left:-200px;', 'mobile_position_modern' => 'bottom:15px!important;right:15px!important;left:auto !important;top:auto !important;background:none;box-shadow:none;overflow:visible', 'position_modern' => 'bottom:15px;right:15px;', 'border_status_modern' => 'border:2px solid #'.($theme !== false ? $theme->bor_bcolor : 'FFF').';', 'shadow_modern' => '0px 0px 17px', 'widget_radius_modern' => '-webkit-border-radius:47px;-moz-border-radius47px;border-radius:47px', 'mobile_position_status_modern' => '' ), 'full_height_left' => array ( 'full_height' => true, 'radius' => 'right', 'position' => 'bottom:0;left:0;', 'posv' => 'b', 'pos' => 'l', 'position_body' => 'bottom:0;left:0;', 'shadow' => '1px -1px 5px', 'moz_radius' => 'topright', 'widget_hover' => '', 'padding_text' => '10px 10px 10px 35px', 'chrome_radius' => 'top-right', 'border_widget' => 'border:1px solid #'.($theme !== false ? $theme->bor_bcolor : 'e3e3e3').';border-left:0;border-bottom:0;', 'background_position' => '0', 'widget_radius' => '-webkit-border-top-right-radius: 20px;-moz-border-radius-topright: 20px;border-top-right-radius: 20px;', 'nh_hor_pos' => 'margin-left:10px;', 'nh_tr_pos' => 'left:15px;', 'mobile_position' => 'height:25px !important;right:auto !important;left:0;top:auto !important;bottom:0 !important;', 'mobile_position_status' => 'width:auto;padding:0;border-radius:0px;bottom:50px;left:5px;right:auto;top:auto;', 'widget_hover_modern' => '', 'nh_hor_pos_modern' => 'margin-left:-200px;', 'mobile_position_modern' => 'bottom:15px!important;right:15px!important;left:auto !important;top:auto !important;background:none;box-shadow:none;overflow:visible', 'position_modern' => 'bottom:15px;right:15px;', 'border_status_modern' => 'border:2px solid #'.($theme !== false ? $theme->bor_bcolor : 'FFF').';', 'shadow_modern' => '0px 0px 17px', 'widget_radius_modern' => '-webkit-border-radius:47px;-moz-border-radius47px;border-radius:47px', 'mobile_position_status_modern' => '' ), ); if (key_exists($position, $positionArgument)){ $currentPosition = $positionArgument[$position]; } else { $currentPosition = $positionArgument['bottom_right']; } ?><?php   ?><?php   $trackDomain = ''; $disableHTML5Storage = (int)'1'; $trackOnline = (int)'0'; ?><?php $isOnlineHelp = erLhcoreClassChat::isOnline($department_array,false,array('ignore_user_status'=> (int)'0', 'online_timeout' => (int)'300')); ?><?php   $statusGeoAdjustment = erLhcoreClassChat::getAdjustment(array (0 => false,'use_geo_adjustment' => false,'available_for' => '','other_countries' => 'custom','hide_for' => '','other_status' => 'offline','rest_status' => 'hidden','apply_widget' => 0,),'',true); if ($statusGeoAdjustment['status'] == 'offline') { $isOnlineHelp = false; $disable_pro_active = true; $disableByGeoAdjustment = true; } elseif ($statusGeoAdjustment['status'] == 'hidden') { exit; } ?><?php if ($isOnlineHelp == false && '0' == 0) { $disable_pro_active = true; }; if ( !($isOnlineHelp == false && $hide_offline == 'true') || $trackOnline == 1 ) : ?>/*! Cookies.js - 0.4.0; Copyright (c) 2014, Scott Hamper; http://www.opensource.org/licenses/MIT */
(function(e){"use strict";var b=function(a,d,c){return 1===arguments.length?b.get(a):b.set(a,d,c)};b._document=document;b._navigator=navigator;b.defaults={path:"/"};b.get=function(a){b._cachedDocumentCookie!==b._document.cookie&&b._renewCache();return b._cache[a]};b.set=function(a,d,c){c=b._getExtendedOptions(c);c.expires=b._getExpiresDate(d===e?-1:c.expires);b._document.cookie=b._generateCookieString(a,d,c);return b};b.expire=function(a,d){return b.set(a,e,d)};b._getExtendedOptions=function(a){return{path:a&& a.path||b.defaults.path,domain:a&&a.domain||b.defaults.domain,expires:a&&a.expires||b.defaults.expires,secure:a&&a.secure!==e?a.secure:b.defaults.secure}};b._isValidDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getTime())};b._getExpiresDate=function(a,d){d=d||new Date;switch(typeof a){case "number":a=new Date(d.getTime()+1E3*a);break;case "string":a=new Date(a)}if(a&&!b._isValidDate(a))throw Error("`expires` parameter cannot be converted to a valid Date instance"); return a};b._generateCookieString=function(a,b,c){a=a.replace(/[^#$&+\^`|]/g,encodeURIComponent);a=a.replace(/\(/g,"%28").replace(/\)/g,"%29");b=(b+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent);c=c||{};a=a+"="+b+(c.path?";path="+c.path:"");a+=c.domain?";domain="+c.domain:"";a+=c.expires?";expires="+c.expires.toUTCString():"";return a+=c.secure?";secure":""};b._getCookieObjectFromString=function(a){var d={};a=a?a.split("; "):[];for(var c=0;c<a.length;c++){var f=b._getKeyValuePairFromCookieString(a[c]); d[f.key]===e&&(d[f.key]=f.value)}return d};b._getKeyValuePairFromCookieString=function(a){var b=a.indexOf("="),b=0>b?a.length:b;try {return{key:decodeURIComponent(a.substr(0,b)),value:decodeURIComponent(a.substr(b+1))}} catch(e) {return{key:a.substr(0,b),value:a.substr(b+1)}}};b._renewCache=function(){b._cache=b._getCookieObjectFromString(b._document.cookie);b._cachedDocumentCookie=b._document.cookie};b._areEnabled=function(){var a="1"===b.set("cookies_lhc.js",1).get("cookies_lhc.js");b.expire("cookies_lhc.js");return a};b.enabled=b._areEnabled();window.lhc_Cookies=b})();lhc_Cookies.defaults = {path:"/",secure: <?php  '0' == 1 ? print 'true' : print 'false' ?>};<?php $chatOptionsVariable = 'LHCChatOptions'; $chatCSSPrefix = 'lhc'; $chatCSSLayoutOptions = array( 'container_id' => 'lhc_container' ) ?><?php   ?>var lh_inst  = {JSON : {parse: window.JSON && (window.JSON.parse || window.JSON.decode) || String.prototype.evalJSON && function(str){return String(str).evalJSON();} || $.parseJSON || $.evalJSON,stringify:  Object.toJSON || window.JSON && (window.JSON.stringify || window.JSON.encode) || $.toJSON},rendered : false,isOnline : <?php  echo $isOnlineHelp == true ? 'true' : 'false'?>,disabledGeo : <?php  echo (isset($disableByGeoAdjustment) && $disableByGeoAdjustment == true) ? 'true' : 'false' ?>,checkOperatorMessage : <?php  echo $check_operator_messages == true ? 'true' : 'false'?>,offset_data : '',lang: '<?php  echo erLhcoreClassSystem::instance()->WWWDirLang?>',langDefault: '/<?php  echo 'eng'?>',is_dragging : false,is_full_height : <?= isset($currentPosition['full_height']) && $currentPosition['full_height'] ? 'true' : 'false' ?>,online_tracked : false,urlopen : function(){return "//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/index.php"+this.lang+"/chat/startchat<?php  $leaveamessage == true ? print '/(leaveamessage)/true' : ''?><?php  $theme !== false ? print '/(theme)/'.$theme->id : ''?><?php  $department !== false ? print '/(department)/'.$department : ''?><?php  $operator !== false ? print '/(operator)/'.$operator : ''?><?php  $priority !== false ? print '/(priority)/'.$priority : ''?><?php  $uarguments !== false ? print '/(ua)/'.$uarguments : ''?>"+this.survey_id;
},<?php   ?>hasSurvey : <?php  echo $survey !== false ? 'true ': 'false'?>,survey_id : '<?php  echo $survey !== false ? '/(survey)/' . $survey : ''?>',surveyShown : false,isMinimized : false,explicitClose : false,isProactivePending : 0,dynamicAssigned : [],windowname : "startchatwindow",substatus : '',cookieData : {},cookieDataPers : {},domain : false,isSharing : false,chat_started : false,extensionArgs : '',prefillMessage : '',getCookieDomain : function(domain) {if (this.domain !== false) {return this.domain;} else {if (typeof <?php  echo $chatOptionsVariable?> != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.opt != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.opt.domain != 'undefined') {this.domain = '.'+<?php  echo $chatOptionsVariable?>.opt.domain.replace(/(https:\/\/|http:\/\/)/g,'');} else {this.domain = '.'+document.location.hostname.replace(/^(?:[a-z0-9\-\.]+\.)??([a-z0-9\-]+)?(\.com|\.net|\.org|\.biz|\.ws|\.in|\.me|\.co\.uk|\.co|\.org\.uk|\.ltd\.uk|\.plc\.uk|\.me\.uk|\.edu|\.mil|\.br\.com|\.cn\.com|\.eu\.com|\.hu\.com|\.no\.com|\.qc\.com|\.sa\.com|\.se\.com|\.se\.net|\.us\.com|\.uy\.com|\.ac|\.co\.ac|\.gv\.ac|\.or\.ac|\.ac\.ac|\.af|\.am|\.as|\.at|\.ac\.at|\.co\.at|\.gv\.at|\.or\.at|\.asn\.au|\.com\.au|\.edu\.au|\.org\.au|\.net\.au|\.id\.au|\.be|\.ac\.be|\.adm\.br|\.adv\.br|\.am\.br|\.arq\.br|\.art\.br|\.bio\.br|\.cng\.br|\.cnt\.br|\.com\.br|\.ecn\.br|\.eng\.br|\.esp\.br|\.etc\.br|\.eti\.br|\.fm\.br|\.fot\.br|\.fst\.br|\.g12\.br|\.gov\.br|\.ind\.br|\.inf\.br|\.jor\.br|\.lel\.br|\.med\.br|\.mil\.br|\.net\.br|\.nom\.br|\.ntr\.br|\.odo\.br|\.org\.br|\.ppg\.br|\.pro\.br|\.psc\.br|\.psi\.br|\.rec\.br|\.slg\.br|\.tmp\.br|\.tur\.br|\.tv\.br|\.vet\.br|\.zlg\.br|\.br|\.ab\.ca|\.bc\.ca|\.mb\.ca|\.nb\.ca|\.nf\.ca|\.ns\.ca|\.nt\.ca|\.on\.ca|\.pe\.ca|\.qc\.ca|\.sk\.ca|\.yk\.ca|\.ca|\.cc|\.ac\.cn|\.com\.cn|\.edu\.cn|\.gov\.cn|\.org\.cn|\.bj\.cn|\.sh\.cn|\.tj\.cn|\.cq\.cn|\.he\.cn|\.nm\.cn|\.ln\.cn|\.jl\.cn|\.hl\.cn|\.js\.cn|\.zj\.cn|\.ah\.cn|\.gd\.cn|\.gx\.cn|\.hi\.cn|\.sc\.cn|\.gz\.cn|\.yn\.cn|\.xz\.cn|\.sn\.cn|\.gs\.cn|\.qh\.cn|\.nx\.cn|\.xj\.cn|\.tw\.cn|\.hk\.cn|\.mo\.cn|\.cn|\.cx|\.cz|\.de|\.dk|\.fo|\.com\.ec|\.tm\.fr|\.com\.fr|\.asso\.fr|\.presse\.fr|\.fr|\.gf|\.gs|\.co\.il|\.net\.il|\.ac\.il|\.k12\.il|\.gov\.il|\.muni\.il|\.ac\.in|\.co\.in|\.org\.in|\.ernet\.in|\.gov\.in|\.net\.in|\.res\.in|\.is|\.it|\.ac\.jp|\.co\.jp|\.go\.jp|\.or\.jp|\.ne\.jp|\.ac\.kr|\.co\.kr|\.go\.kr|\.ne\.kr|\.nm\.kr|\.or\.kr|\.li|\.lt|\.lu|\.asso\.mc|\.tm\.mc|\.com\.mm|\.org\.mm|\.net\.mm|\.edu\.mm|\.gov\.mm|\.ms|\.nl|\.no|\.nu|\.pl|\.ro|\.org\.ro|\.store\.ro|\.tm\.ro|\.firm\.ro|\.www\.ro|\.arts\.ro|\.rec\.ro|\.info\.ro|\.nom\.ro|\.nt\.ro|\.se|\.si|\.com\.sg|\.org\.sg|\.net\.sg|\.gov\.sg|\.sk|\.st|\.tf|\.ac\.th|\.co\.th|\.go\.th|\.mi\.th|\.net\.th|\.or\.th|\.tm|\.to|\.com\.tr|\.edu\.tr|\.gov\.tr|\.k12\.tr|\.net\.tr|\.org\.tr|\.com\.tw|\.org\.tw|\.net\.tw|\.ac\.uk|\.uk\.com|\.uk\.net|\.gb\.com|\.gb\.net|\.vg|\.sh|\.kz|\.ch|\.info|\.ua|\.gov|\.name|\.pro|\.ie|\.hk|\.com\.hk|\.org\.hk|\.net\.hk|\.edu\.hk|\.us|\.tk|\.cd|\.by|\.ad|\.lv|\.eu\.lv|\.bz|\.es|\.jp|\.cl|\.ag|\.mobi|\.eu|\.co\.nz|\.org\.nz|\.net\.nz|\.maori\.nz|\.iwi\.nz|\.io|\.la|\.md|\.sc|\.sg|\.vc|\.tw|\.travel|\.my|\.se|\.tv|\.pt|\.com\.pt|\.edu\.pt|\.asia|\.fi|\.com\.ve|\.net\.ve|\.fi|\.org\.ve|\.web\.ve|\.info\.ve|\.co\.ve|\.tel|\.im|\.gr|\.ru|\.net\.ru|\.org\.ru|\.hr|\.com\.hr)$/, '$1$2');}};return this.domain;},appendArg : function(args) {var tt = args.length/2;for (i = 0; i < tt; i++) {var argument = args[i*2];var value = args[(i*2)+1];if (argument == 'survey_id') {this.survey_id = '/(survey)/'+value;this.hasSurvey = true;}}},addCss : function(css_content) {var head = document.getElementsByTagName('head')[0];var style = document.createElement('style');style.type = 'text/css';if(style.styleSheet) {style.styleSheet.cssText = css_content;} else {rules = document.createTextNode(css_content);style.appendChild(rules);};head.appendChild(style);},appendHTML : function (htmlStr) {var frag = document.createDocumentFragment(),temp = document.createElement('div');temp.innerHTML = htmlStr;while (temp.firstChild) {frag.appendChild(temp.firstChild);};return frag;},removeById : function(EId){return(EObj=document.getElementById(EId))?EObj.parentNode.removeChild(EObj):false;},hasClass : function(el, name) {return new RegExp('(\\s|^)'+name+'(\\s|$)').test(el.className);},addClass : function(el, name) {if (!this.hasClass(el, name)) { el.className += (el.className ? ' ' : '') +name; }},removeClass : function(el, name) {if (this.hasClass(el, name)) {el.className=el.className.replace(new RegExp('(\\s|^)'+name+'(\\s|$)'),' ').replace(/^\s+|\s+$/g, '');}},storePos : function(dm, height) {var cookiePos = '';<?php  if ($currentPosition['pos'] == 'r') : ?>cookiePos += dm.style.right;<?php  else : ?>cookiePos += dm.style.left;<?php  endif;?><?php  if ($currentPosition['posv'] == 't') : ?>cookiePos += ","+dm.style.top;<?php  else : ?>cookiePos += ","+dm.style.bottom;<?php  endif;?>if (height > 0) {cookiePos += ","+height;}this.addCookieAttribute('pos',cookiePos);},min : function(initial) {// If it's proactive invitation hide instead to avoid reopening.
if (this.isProactivePending == 1) {this.hide();return;}var dm = document.getElementById('<?php  echo $chatCSSLayoutOptions['container_id']?>');var msgNum = document.getElementById('<?php  echo $chatCSSPrefix?>-msg-number');msgNum.innerHTML = '';msgNum.msg_number = 0;this.removeClass(dm, '<?php  echo $chatCSSPrefix?>-has-unread-message');if (!dm.attrIsMin || dm.attrIsMin == false) {dm.attrHeight = dm.style.height;dm.attrIsMin = true;this.isMinimized = true;<?php  if ($currentPosition['posv'] == 'b') : ?>if(dm.style.bottom!='' && dm.attrHeight!=''){dm.style.bottom = (parseInt(dm.style.bottom)+parseInt(dm.attrHeight)-35)+'px';} else {if (initial == undefined) {dm.style.bottom = (parseInt(dm.style.bottom) + parseInt(document.getElementById('<?php  echo $chatCSSPrefix?>_iframe_container').offsetHeight)-10)+'px';}}<?php  endif; ?>var heightIframe = 0;if (initial == undefined) {heightIframe = parseInt(document.getElementById('<?php  echo $chatCSSPrefix?>_iframe_container').offsetHeight)-1;} else if (typeof lh_inst.pendingHeight !== 'undefined') {heightIframe = lh_inst.pendingHeight;}this.addCookieAttribute('m',1);this.storePos(dm, heightIframe);<?php  if ($currentPosition['posv'] == 'b' && $minimize_action == 'br') : ?>dm.attrBottomOrigin = dm.style.bottom;dm.style.bottom = '';<?php  if ($currentPosition['pos'] == 'r') : ?>dm.attrRightOrigin = dm.style.right;dm.style.right = '0px';<?php  else : ?>dm.attrLeftOrigin = dm.style.left;dm.style.left = '0px';<?php  endif;?><?php  endif;?>this.addClass(dm,'<?php  echo $chatCSSPrefix?>-min');this.removeClass(document.body,'<?php  echo $chatCSSPrefix?>-opened');} else {this.removeClass(dm,'<?php  echo $chatCSSPrefix?>-min');dm.attrIsMin = false;this.isMinimized = false;<?php  if ($currentPosition['posv'] == 'b') : ?>if (dm.attrBottomOrigin) {dm.style.bottom = (parseInt(dm.attrBottomOrigin)-parseInt(document.getElementById('<?php  echo $chatCSSPrefix?>_iframe').style.height)+9)+'px';<?php  if ($currentPosition['pos'] == 'r') : ?>dm.style.right = dm.attrRightOrigin;<?php  else : ?>dm.style.left = dm.attrLeftOrigin;<?php  endif;?>} else if (dm.style.bottom!='') {dm.style.bottom = (parseInt(dm.style.bottom)-parseInt(document.getElementById('<?php  echo $chatCSSPrefix?>_iframe').style.height)+9)+'px';}<?php  endif;?>this.removeCookieAttr('m');var inst = this;this.storePos(dm);this.addClass(document.body,'<?php  echo $chatCSSPrefix?>-opened');};},hide : function() {this.isProactivePending = 0;if (!lh_inst.cookieData.hash || lh_inst.hasSurvey == false || lh_inst.surveyShown == true) {<?php  if ((int)'1' == 1) : ?>this.explicitClose = true;<?php  endif;?>var th = document.getElementsByTagName('head')[0];var s = document.createElement('script');s.setAttribute('type','text/javascript');s.setAttribute('src','//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/index.php'+this.lang+'/chat/chatwidgetclosed'+this.getAppendCookieArguments()+'?ts='+Date.now());
th.appendChild(s);this.toggleStatusWidget(false);this.removeById('<?php  echo $chatCSSLayoutOptions['container_id']?>');this.removeCookieAttr('hash');this.removeCookieAttr('pos');this.removeCookieAttr('m');this.removeClass(document.body,'<?php  echo $chatCSSPrefix?>-opened');<?php  if ($check_operator_messages == 'true' && $disable_pro_active == false) : ?>this.startNewMessageCheck();<?php  endif; ?>this.timeoutStatusWidgetOpen = 0;this.surveyShown = true;} else {this.showSurvey();}},showSurvey : function() {if (lh_inst.cookieData.hash && lh_inst.hasSurvey == true && lh_inst.surveyShown == false){var locationCurrent = encodeURIComponent(window.location.href.substring(window.location.protocol.length));this.surveyShown = true;document.getElementById('<?php  echo $chatCSSPrefix?>_iframe').contentWindow.location.replace("//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/index.php"+this.lang+"/survey/fillwidget<?php  $leaveamessage == true ? print '/(leaveamessage)/true' : ''?><?php  $department !== false ? print '/(department)/'.$department : ''?><?php  $theme !== false ? print '/(theme)/'.$theme->id : ''?><?php  $operator !== false ? print '/(operator)/'.$operator : ''?><?php  $priority !== false ? print '/(priority)/'.$priority : ''?><?php  $uarguments !== false ? print '/(ua)/'.$uarguments : '' ?>"+this.getAppendCookieArguments()+'?URLReferer='+locationCurrent+this.parseOptions()+this.parseStorageArguments()+'&dt='+encodeURIComponent(document.title));
}},getAppendCookieArguments : function() {var hashAppend = this.cookieData.hash ? '/(hash)/'+this.cookieData.hash : '';var vidAppend = this.cookieDataPers.vid ? '/(vid)/'+this.cookieDataPers.vid : '';var hashResume = this.cookieData.hash_resume ? '/(hash_resume)/'+this.cookieData.hash_resume : '';var soundOption = this.cookieData.s ? '/(sound)/'+this.cookieData.s : '';var explicitClose = this.explicitClose ? '/(eclose)/t' : '';if (typeof <?php  echo $chatOptionsVariable?> != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.attr_paid != 'undefined') {explicitClose = explicitClose + '/(phash)/'+ <?php  echo $chatOptionsVariable?>.attr_paid.phash;explicitClose = explicitClose + '/(pvhash)/'+ <?php  echo $chatOptionsVariable?>.attr_paid.pvhash;};return hashAppend+vidAppend+hashResume+soundOption+explicitClose+this.survey_id;},openRemoteWindow : function() {this.removeById('<?php  echo $chatCSSLayoutOptions['container_id']?>');var popupHeight = (typeof <?php  echo $chatOptionsVariable?> != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.opt != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.opt.popup_height != 'undefined') ? parseInt(<?php  echo $chatOptionsVariable?>.opt.popup_height) : 520;var popupWidth = (typeof <?php  echo $chatOptionsVariable?> != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.opt != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.opt.popup_width != 'undefined') ? parseInt(<?php  echo $chatOptionsVariable?>.opt.popup_width) : 500;var locationCurrent = encodeURIComponent(window.location.href.substring(window.location.protocol.length));window.open(this.urlopen()+this.getAppendCookieArguments()+'/(er)/1'+'?URLReferer='+locationCurrent+this.parseOptions()+this.parseStorageArguments(),this.windowname,"scrollbars=yes,menubar=1,resizable=1,width="+popupWidth+",height="+popupHeight);this.removeCookieAttr('hash');this.toggleStatusWidget(false);},parseOptions : function() {argumentsQuery = new Array();var paramsReturn = '';if (typeof <?php  echo $chatOptionsVariable?> != 'undefined') {if (typeof <?php  echo $chatOptionsVariable?>.attr != 'undefined') {if (<?php  echo $chatOptionsVariable?>.attr.length > 0){for (var index in <?php  echo $chatOptionsVariable?>.attr) {if (typeof <?php  echo $chatOptionsVariable?>.attr[index] != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.attr[index].type != 'undefined') {argumentsQuery.push('name[]='+encodeURIComponent(<?php  echo $chatOptionsVariable?>.attr[index].name)+'&encattr[]='+(typeof <?php  echo $chatOptionsVariable?>.attr[index].encrypted != 'undefined' && <?php  echo $chatOptionsVariable?>.attr[index].encrypted == true ? 't' : 'f')+'&value[]='+encodeURIComponent(<?php  echo $chatOptionsVariable?>.attr[index].value)+'&type[]='+encodeURIComponent(<?php  echo $chatOptionsVariable?>.attr[index].type)+'&size[]='+encodeURIComponent(<?php  echo $chatOptionsVariable?>.attr[index].size)+'&req[]='+(typeof <?php  echo $chatOptionsVariable?>.attr[index].req != 'undefined' && <?php  echo $chatOptionsVariable?>.attr[index].req == true ? 't' : 'f')+'&sh[]='+((typeof <?php  echo $chatOptionsVariable?>.attr[index].show != 'undefined' && (<?php  echo $chatOptionsVariable?>.attr[index].show == 'on' || <?php  echo $chatOptionsVariable?>.attr[index].show == 'off')) ? <?php  echo $chatOptionsVariable?>.attr[index].show : 'b'));};};};};if (typeof <?php  echo $chatOptionsVariable?>.attr_prefill != 'undefined') {if (<?php  echo $chatOptionsVariable?>.attr_prefill.length > 0){for (var index in <?php  echo $chatOptionsVariable?>.attr_prefill) {if (typeof <?php  echo $chatOptionsVariable?>.attr_prefill[index] != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.attr_prefill[index].name != 'undefined') {argumentsQuery.push('prefill['+<?php  echo $chatOptionsVariable?>.attr_prefill[index].name+']='+encodeURIComponent(<?php  echo $chatOptionsVariable?>.attr_prefill[index].value));if (typeof <?php  echo $chatOptionsVariable?>.attr_prefill[index].hidden != 'undefined') {argumentsQuery.push('hattr[]='+encodeURIComponent(<?php  echo $chatOptionsVariable?>.attr_prefill[index].name));};};};};};if (typeof <?php  echo $chatOptionsVariable?>.attr_prefill_admin != 'undefined') {if (<?php  echo $chatOptionsVariable?>.attr_prefill_admin.length > 0){for (var index in <?php  echo $chatOptionsVariable?>.attr_prefill_admin) {if (typeof <?php  echo $chatOptionsVariable?>.attr_prefill_admin[index] != 'undefined') {argumentsQuery.push('value_items_admin['+<?php  echo $chatOptionsVariable?>.attr_prefill_admin[index].index+']='+encodeURIComponent(<?php  echo $chatOptionsVariable?>.attr_prefill_admin[index].value));if (typeof <?php  echo $chatOptionsVariable?>.attr_prefill_admin[index].hidden != 'undefined') {argumentsQuery.push('via_hidden['+<?php  echo $chatOptionsVariable?>.attr_prefill_admin[index].index+']='+encodeURIComponent(<?php  echo $chatOptionsVariable?>.attr_prefill_admin[index].hidden == true ? 't' : 'f'));};if (typeof <?php  echo $chatOptionsVariable?>.attr_prefill_admin[index].encrypted != 'undefined') {argumentsQuery.push('via_encrypted['+<?php  echo $chatOptionsVariable?>.attr_prefill_admin[index].index+']='+encodeURIComponent(<?php  echo $chatOptionsVariable?>.attr_prefill_admin[index].encrypted == true ? 't' : 'f'));};};};};};if (argumentsQuery.length > 0) {paramsReturn = '&'+argumentsQuery.join('&');};};if (this.extensionArgs != '') {paramsReturn = paramsReturn + this.extensionArgs;}if (this.prefillMessage != '') {paramsReturn = paramsReturn + '&' + 'prefillMsg=' + encodeURIComponent(this.prefillMessage);}return paramsReturn;},setDefaultMessage : function(msg) {this.prefillMessage = msg;},parseOptionsOnline : function(){argumentsQuery = new Array();if (typeof <?php  echo $chatOptionsVariable?> != 'undefined') {if (typeof <?php  echo $chatOptionsVariable?>.attr_online != 'undefined') {if (<?php  echo $chatOptionsVariable?>.attr_online.length > 0){for (var index in <?php  echo $chatOptionsVariable?>.attr_online) {if (typeof <?php  echo $chatOptionsVariable?>.attr_online[index] != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.attr_online[index].name != 'undefined') {argumentsQuery.push('onattr['+<?php  echo $chatOptionsVariable?>.attr_online[index].name+']='+encodeURIComponent(<?php  echo $chatOptionsVariable?>.attr_online[index].value));};};};};if (argumentsQuery.length > 0) {return '&'+argumentsQuery.join('&');};};return '';},parseStorageArguments : function() {if (sessionStorage && sessionStorage.getItem('lhc_ref') && sessionStorage.getItem('lhc_ref') != '') {return '&r='+encodeURIComponent(sessionStorage.getItem('lhc_ref'));}return '';},addEvent : (function () {if (document.addEventListener) {return function (el, type, fn) {if (el && el.nodeName || el === window) {el.addEventListener(type, fn, false);} else if (el && el.length) {for (var i = 0; i < el.length; i++) {lh_inst.addEvent(el[i], type, fn);}}};} else {return function (el, type, fn) {if (el && el.nodeName || el === window) {el.attachEvent('on' + type, function () { return fn.call(el, window.event); });} else if (el && el.length) {for (var i = 0; i < el.length; i++) {lh_inst.addEvent(el[i], type, fn);}}};}})(),removeEvent : function(target, type, callback) {if (target.removeEventListener){target.removeEventListener(type,callback);} else {target.detachEvent('on'+type,callback);}},showStartWindow : function(url_to_open,delayShow) {if (this.isOnline == false && typeof <?php  echo $chatOptionsVariable?> != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.opt != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.opt.offline_redirect != 'undefined'){window.open(<?php  echo $chatOptionsVariable?>.opt.offline_redirect,"_blank");return;};this.lhc_need_help_hide();// Do not check for new messages
this.stopCheckNewMessage();this.removeById('<?php  echo $chatCSSLayoutOptions['container_id']?>');var locationCurrent = encodeURIComponent(window.location.href.substring(window.location.protocol.length));if ( url_to_open != undefined ) {this.chatOpenedCallback('internal_invitation');this.initial_iframe_url = url_to_open+this.getAppendCookieArguments()+'?URLReferer='+locationCurrent+this.parseOptions()+this.parseStorageArguments()+'&dt='+encodeURIComponent(document.title);} else {this.chatOpenedCallback(this.isOnline == false ? 'internal_offline' : 'internal');this.initial_iframe_url = "//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/index.php"+this.lang+"/chat/chatwidget<?php  $leaveamessage == true ? print '/(leaveamessage)/true' : ''?><?= isset($currentPosition['full_height']) && $currentPosition['full_height'] ? '/(fullheight)/true' : '/(fullheight)/false' ?><?php  $department !== false ? print '/(department)/'.$department : ''?><?php  $theme !== false ? print '/(theme)/'.$theme->id : ''?><?php  $operator !== false ? print '/(operator)/'.$operator : ''?><?php  $priority !== false ? print '/(priority)/'.$priority : ''?><?php  $uarguments !== false ? print '/(ua)/'.$uarguments : '' ?>"+this.getAppendCookieArguments()+'?URLReferer='+locationCurrent+this.parseOptions()+this.parseStorageArguments()+'&dt='+encodeURIComponent(document.title);
};this.addClass(document.body,'<?php  echo $chatCSSPrefix?>-opened');lh_inst.surveyShown = false;lh_inst.timeoutStatusWidgetOpen = 1;var widgetWidth = (typeof <?php  echo $chatOptionsVariable?> != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.opt != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.opt.widget_width != 'undefined') ? parseInt(<?php  echo $chatOptionsVariable?>.opt.widget_width) : 300;var widgetHeight = (typeof <?php  echo $chatOptionsVariable?> != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.opt != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.opt.widget_height != 'undefined') ? parseInt(<?php  echo $chatOptionsVariable?>.opt.widget_height) : 340;var widgetHeightUnit = 'px';if(this.is_full_height === true) {widgetHeight = 100;widgetHeightUnit = '%';}this.iframe_html = '<?php ?>'+'<div id="<?php  echo $chatCSSPrefix?>_iframe_container" <?= isset($currentPosition['full_height']) && $currentPosition['full_height'] ? 'style="height: calc(100% - 25px);"' : '' ?>><iframe id="<?php  echo $chatCSSPrefix?>_iframe" allowTransparency="true" scrolling="no" class="<?php  echo $chatCSSPrefix?>-loading" frameborder="0" ' +( this.initial_iframe_url != '' ? ' src="'    + this.initial_iframe_url + '"' : '' ) +' width="'+widgetWidth+'"' +' height="'+widgetHeight+'"' +' style="width: '+widgetWidth+'px;height: '+widgetHeight+widgetHeightUnit+';" title="Live Help"></iframe></div>';<?php   $iconsStatuses['restore_image_url'] = ($theme !== false && $theme->restore_image_url !== false && strpos($theme->restore_image_url, 'http') !== false); $iconsStatuses['minimize_image_url'] = ($theme !== false && $theme->minimize_image_url !== false && strpos($theme->minimize_image_url, 'http') !== false); $iconsStatuses['close_image_url'] = ($theme !== false && $theme->close_image_url !== false && strpos($theme->close_image_url, 'http') !== false); $iconsStatuses['popup_image_url'] = ($theme !== false && $theme->popup_image_url !== false && strpos($theme->popup_image_url, 'http') !== false); $iconsStatuses['online_image_url'] = ($theme !== false && $theme->online_image_url !== false && strpos($theme->online_image_url, 'http') !== false); ?><?php  if ($theme !== false && $theme->modern_look == 0) : ?>this.iframe_html = '<div id="<?php  echo $chatCSSLayoutOptions['container_id']?>" <?= isset($currentPosition['full_height']) && $currentPosition['full_height'] ? 'style="height:100%"' : '' ?>>' +'<div id="<?php  echo $chatCSSPrefix?>_header"><?php  if ($theme === false || $theme->hide_close == 0) : ?><a href="#" title="Close" id="<?php  echo $chatCSSPrefix?>_close"><img src="<?php  if ($iconsStatuses['close_image_url'] == false) : ?>//<?php  echo $_SERVER['HTTP_HOST']?><?php  endif?><?php  if ($theme !== false && $theme->close_image_url != '') : ?><?php  echo $theme->close_image_url;?><?php  else : ?>/zcodialawfirm/ztchat/design/defaulttheme/images/icons/cancel.png<?php  endif;?>" title="Close" alt="Close" /></a><?php  endif;?><?php  if ('0' == 0 && ($theme === false || $theme->hide_popup == 0)) : ?><a href="#" title="Open in a new window" id="<?php  echo $chatCSSPrefix?>_remote_window"><img src="<?php  if ($iconsStatuses['popup_image_url'] == false) : ?>//<?php  echo $_SERVER['HTTP_HOST']?><?php  endif; if ($theme !== false && $theme->popup_image_url != '') : ?><?php  echo $theme->popup_image_url;?><?php  else : ?>/zcodialawfirm/ztchat/design/defaulttheme/images/icons/application_double.png<?php  endif;?>" alt="Open in a new window" title="Open in a new window" /></a><?php  endif; ?><a href="#" id="<?php  echo $chatCSSPrefix?>_min" title="Minimize/Restore"></a><i title="New messages" id="<?php  echo $chatCSSPrefix?>-msg-number"></i></div>' +
this.iframe_html + '</div>';raw_css = "#<?php  echo $chatCSSLayoutOptions['container_id']?>.<?php  echo $chatCSSPrefix?>-min {overflow:hidden}#<?php  echo $chatCSSPrefix?>_remote_window{padding-left:5px;}.<?php  echo $chatCSSPrefix?>-min #<?php  echo $chatCSSPrefix?>_header{min-width:107px} .<?php  echo $chatCSSPrefix?>-min #<?php  echo $chatCSSPrefix?>_iframe_container{display:none} .<?php  echo $chatCSSPrefix?>-no-transition{ -webkit-transition: none !important; -moz-transition: none !important;-o-transition: none !important;-ms-transition: none !important;transition: none !important;}\n#<?php  echo $chatCSSLayoutOptions['container_id']?>.<?php  echo $chatCSSPrefix?>-delayed{visibility:hidden}\n#<?php  echo $chatCSSLayoutOptions['container_id']?> * {line-height:100%;direction:<?php  ('ltr' == 'ltr' || 'ltr' == '') ? print 'ltr;text-align:left;' : print 'rtl;text-align:right;'; ?>;font-family:arial;font-size:12px;line-height:100%;box-sizing: content-box;-moz-box-sizing:content-box;padding:0;margin:0;}\n#<?php  echo $chatCSSLayoutOptions['container_id']?> img {border:0;}\n#<?php  echo $chatCSSPrefix?>_header{position:relative;z-index:2147483647;height:<?php  ($theme !== false && $theme->header_height > 0) ? print $theme->header_height : print '17' ?>px;overflow:hidden;text-align:right;clear:both;background-color:#<?php  $theme !== false ? print $theme->header_background : print '525252' ?>;padding:<?php  ($theme !== false && $theme->header_padding > 0) ? print $theme->header_padding : print '5' ?>px;}#<?php  echo $chatCSSPrefix?>-msg-number{float: left;color: #FFF;font-size: 12px;font-weight: bold;padding-left: 5px;line-height: 20px;} \n#<?php  echo $chatCSSPrefix?>_min{float:left;padding:2px;}#<?php  echo $chatCSSPrefix?>_remote_window,#<?php  echo $chatCSSPrefix?>_close{padding:2px;float:right;}.<?php  echo $chatCSSPrefix?>-min #<?php  echo $chatCSSPrefix?>_min:before{content:url(<?php  if ($iconsStatuses['restore_image_url'] == false) : ?>//<?php  echo $_SERVER['HTTP_HOST']?><?php  endif; if ($theme !== false && $theme->restore_image_url != '') : ?><?php  echo $theme->restore_image_url;?><?php  else : ?>/zcodialawfirm/ztchat/design/defaulttheme/images/icons/restore.png<?php  endif;?>)}#<?php  echo $chatCSSPrefix?>_min:before{content: url('<?php  if ($iconsStatuses['minimize_image_url'] == false) : ?>//<?php  echo $_SERVER['HTTP_HOST']?><?php  endif; if ($theme !== false && $theme->minimize_image_url != '') : ?><?php  echo $theme->minimize_image_url;?><?php  else : ?>/zcodialawfirm/ztchat/design/defaulttheme/images/icons/min.png<?php  endif;?>'); position: relative;left:0;top;0} #<?php  echo $chatCSSPrefix?>_min{width:14px;height:14px;}\n#<?php  echo $chatCSSPrefix?>_close:hover,#<?php  echo $chatCSSPrefix?>_min:hover,#<?php  echo $chatCSSPrefix?>_remote_window:hover{opacity:0.4;}\n#<?php  echo $chatCSSLayoutOptions['container_id']?> {background-color:#FFF;-moz-user-select:none; -khtml-user-drag:element;cursor: move;cursor: -moz-grab;cursor: -webkit-grab;max-height: 100%;	overflow: auto;transition-property:height;transition-duration: 0.4s;-webkit-transition: height 0.4s ease-in-out;transition: height 0.4s;\nz-index:2147483647;\n position: fixed;<?php  echo $currentPosition['position_body']?>;-webkit-box-shadow: <?php  echo $currentPosition['shadow']?> rgba(50, 50, 50, 0.17);-moz-box-shadow: <?php  echo $currentPosition['shadow']?> rgba(50, 50, 50, 0.17);box-shadow: <?php  echo $currentPosition['shadow']?> rgba(50, 50, 50, 0.17);-webkit-border-radius: 5px;-moz-border-radius: 5px;border-radius: 5px; }\n#<?php  echo $chatCSSLayoutOptions['container_id']?> iframe{position:relative;display:block;transition-property: height;transition-duration: 0.4s;-webkit-transition: height 0.4s ease-in-out;transition: height 0.4s;}\n#<?php  echo $chatCSSLayoutOptions['container_id']?> #<?php  echo $chatCSSPrefix?>_iframe_container{border:<?php  ($theme !== false && $theme->widget_border_width > 0) ? print $theme->widget_border_width : print '1' ?>px solid #<?php  $theme !== false ? print $theme->widget_border_color : print 'cccccc' ?>;border-top: 0;border-bottom-left-radius: 5px;border-bottom-right-radius: 5px;overflow: hidden;}\n#<?php  echo $chatCSSLayoutOptions['container_id']?> iframe.<?php  echo $chatCSSPrefix?>-loading{\nbackground: #FFF url(//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/design/defaulttheme/images/general/loading.gif) no-repeat center center; }\n@media only screen and (max-device-width : <?php  ($theme !== false && $theme->widget_response_width > 0) ? print $theme->widget_response_width : print 640?>px) { .<?php  echo $chatCSSPrefix?>-opened{position: fixed; overflow: hidden; right: 0px; left: 0px; top: 0px; bottom: 0px;} #<?php  echo $chatCSSPrefix?>_header{height:30px;} #<?php  echo $chatCSSPrefix?>_header a{padding:7px;}#<?php  echo $chatCSSLayoutOptions['container_id']?>{position:fixed;left:0!important;right:0!important;bottom:0!important;top:0!important;border:0;border-radius:0}#<?php  echo $chatCSSLayoutOptions['container_id']?> #<?php  echo $chatCSSPrefix?>_iframe_container{border:0;height: calc(100% - 40px)}#<?php  echo $chatCSSLayoutOptions['container_id']?> iframe{width:100% !important;height: 100%!important} .<?php  echo $chatCSSPrefix?>-min #<?php  echo $chatCSSPrefix?>_header a{padding:2px;} #<?php  echo $chatCSSLayoutOptions['container_id']?>.<?php  echo $chatCSSPrefix?>-min{<?php  echo $currentPosition['mobile_position']?>}}";
<?php  else : ?>this.iframe_html = '<div id="<?php  echo $chatCSSLayoutOptions['container_id']?>" <?= isset($currentPosition['full_height']) && $currentPosition['full_height'] ? 'style="height:100%"' : '' ?>>' +'<a class="status-icon" id="<?php  echo $chatCSSPrefix?>_status-icon-restore" href="#" ><i title="New messages" id="<?php  echo $chatCSSPrefix?>-msg-number"></i></a><div id="<?php  echo $chatCSSPrefix?>_header"><ul class="<?php  echo $chatCSSPrefix?>-cf"><li><a href="#">&#9776;</a><ul class="<?php  echo $chatCSSPrefix?>-cf"><?php  if ($theme === false || $theme->hide_close == 0) : ?><li><a href="#" title="Close" id="<?php  echo $chatCSSPrefix?>_close"><img src="<?php  if ($iconsStatuses['close_image_url'] == false) : ?>//<?php  echo $_SERVER['HTTP_HOST']?><?php  endif?><?php  if ($theme !== false && $theme->close_image_url != '') : ?><?php  echo $theme->close_image_url;?><?php  else : ?>/zcodialawfirm/ztchat/design/defaulttheme/images/icons/cancel.png<?php  endif;?>" title="Close" alt="Close" /></a></li><?php  endif;?><?php  if ('0' == 0 && ($theme === false || $theme->hide_popup == 0)) : ?><li><a href="#" title="Open in a new window" id="<?php  echo $chatCSSPrefix?>_remote_window"><img src="<?php  if ($iconsStatuses['popup_image_url'] == false) : ?>//<?php  echo $_SERVER['HTTP_HOST']?><?php  endif; if ($theme !== false && $theme->popup_image_url != '') : ?><?php  echo $theme->popup_image_url;?><?php  else : ?>/zcodialawfirm/ztchat/design/defaulttheme/images/icons/application_double.png<?php  endif;?>" alt="Open in a new window" title="Open in a new window" /></a></li><?php  endif; ?></ul></li></ul><a href="#" id="<?php  echo $chatCSSPrefix?>_min" title="Minimize/Restore"></a></div>' +
this.iframe_html + '</div>';raw_css = "#<?php  echo $chatCSSLayoutOptions['container_id']?>.<?php  echo $chatCSSPrefix?>-min {overflow:hidden}#<?php  echo $chatCSSLayoutOptions['container_id']?> .status-icon{display:none;}#<?php  echo $chatCSSLayoutOptions['container_id']?>.<?php  echo $chatCSSPrefix?>-min .status-icon{display:inline-block;<?php  echo $currentPosition['border_status_modern']?>;<?php  echo $currentPosition['widget_radius_modern']?>;-webkit-box-shadow: <?php  echo $currentPosition['shadow_modern']?> rgba(50, 50, 50, 0.5);-moz-box-shadow:<?php  echo $currentPosition['shadow_modern']?> rgba(50, 50, 50, 0.5);box-shadow: <?php  echo $currentPosition['shadow_modern']?> rgba(50, 50, 50, 0.5);text-decoration:none;height:41px;width:41px;font-weight:bold;color:<?php  $theme !== false ? print '#'.$theme->text_color : print '#000' ?>;display:block;padding:10px;background:#<?php  $theme !== false ? print $theme->onl_bcolor : print '212529' ?> url('<?php  if ($iconsStatuses['online_image_url'] == false) : ?>//<?php  echo $_SERVER['HTTP_HOST']?><?php  endif; ?><?php  if ($theme !== false && $theme->online_image_url !== false) : print $theme->online_image_url; else : ?>/zcodialawfirm/ztchat/design/defaulttheme/images/getstatus/online.svg<?php  endif;?>') no-repeat center center} <?php 
$burgerMenu = "ul." . $chatCSSPrefix . "-cf {font-size: 0;list-style: none;float:left!important;}ul." . $chatCSSPrefix . "-cf li {display: inline-block;position: relative;min-width: 100%;}ul." . $chatCSSPrefix . "-cf a {display: block;text-decoration: none;}ul." . $chatCSSPrefix . "-cf li ul a{background-color:#" . ($theme !== false ? $theme->header_background : '525252') .";padding:7px!important;}ul." . $chatCSSPrefix . "-cf > li > a{font-size:21px!important;color:#a6a6a6;text-align:center!important;}ul." . $chatCSSPrefix . "-cf li ul {left: -5px;position: absolute;top: 22px;visibility: hidden;z-index: 1;}ul." . $chatCSSPrefix . "-cf li:hover ul {top: 22px;visibility: visible;}ul." . $chatCSSPrefix . "-cf li ul a:hover {background: #". ($theme !== false ? $theme->need_help_hover_bg : '6b6b6b') . ";}"; echo str_replace(array("\n","\r"),"",$burgerMenu); ?> #<?php  echo $chatCSSPrefix?>_remote_window{padding-left:5px;}.<?php  echo $chatCSSPrefix?>-min #<?php  echo $chatCSSPrefix?>_header{min-width:107px} .<?php  echo $chatCSSPrefix?>-min #<?php  echo $chatCSSPrefix?>_iframe_container{display:none} .<?php  echo $chatCSSPrefix?>-no-transition{ -webkit-transition: none !important; -moz-transition: none !important;-o-transition: none !important;-ms-transition: none !important;transition: none !important;}\n#<?php  echo $chatCSSLayoutOptions['container_id']?>.<?php  echo $chatCSSPrefix?>-delayed{visibility:hidden}\n#<?php  echo $chatCSSLayoutOptions['container_id']?> * {line-height:100%;direction:<?php  ('ltr' == 'ltr' || 'ltr' == '') ? print 'ltr;text-align:left;' : print 'rtl;text-align:right;'; ?>;font-family:arial;font-size:12px;line-height:100%;box-sizing: content-box;-moz-box-sizing:content-box;padding:0;margin:0;}\n#<?php  echo $chatCSSLayoutOptions['container_id']?> img {border:0;max-width: none}\n#<?php  echo $chatCSSPrefix?>_header{position:relative;z-index:2147483647;height:<?php  ($theme !== false && $theme->header_height > 0) ? print $theme->header_height : print '17' ?>px;text-align:right;clear:both;background-color:#<?php  $theme !== false ? print $theme->header_background : print '525252' ?>;padding:<?php  ($theme !== false && $theme->header_padding > 0) ? print $theme->header_padding : print '5' ?>px;}#<?php  echo $chatCSSPrefix?>-msg-number{float: left;color: #ffffff;font-size: 12px;font-weight: normal;line-height: 23px;position: absolute;background-color: red;border-radius: 37px;display: inline-block;padding-left: 8px;padding-right: 8px;margin-top: -5px;margin-left: -4px;} \n#<?php  echo $chatCSSPrefix?>_min{float:right;padding:2px;}.<?php  echo $chatCSSPrefix?>-min #<?php  echo $chatCSSPrefix?>_min:before{content:url(<?php  if ($iconsStatuses['restore_image_url'] == false) : ?>//<?php  echo $_SERVER['HTTP_HOST']?><?php  endif; if ($theme !== false && $theme->restore_image_url != '') : ?><?php  echo $theme->restore_image_url;?><?php  else : ?>/zcodialawfirm/ztchat/design/defaulttheme/images/icons/restore.png<?php  endif;?>)}#<?php  echo $chatCSSPrefix?>_min:before{content: url('<?php  if ($iconsStatuses['minimize_image_url'] == false) : ?>//<?php  echo $_SERVER['HTTP_HOST']?><?php  endif; if ($theme !== false && $theme->minimize_image_url != '') : ?><?php  echo $theme->minimize_image_url;?><?php  else : ?>/zcodialawfirm/ztchat/design/defaulttheme/images/icons/min.png<?php  endif;?>'); position: relative;left:0;top;0} #<?php  echo $chatCSSPrefix?>_min{width:14px;height:14px;}\n#<?php  echo $chatCSSPrefix?>_min:hover{opacity:0.4;}\n#<?php  echo $chatCSSLayoutOptions['container_id']?> {background-color:#FFF;-moz-user-select:none; -khtml-user-drag:element;cursor: move;cursor: -moz-grab;cursor: -webkit-grab;max-height: 100%;	overflow: auto;transition-property:height;transition-duration: 0.4s;-webkit-transition: height 0.4s ease-in-out;transition: height 0.4s;\nz-index:2147483647;\n position: fixed;<?php  echo $currentPosition['position_body']?>;-webkit-box-shadow: <?php  echo $currentPosition['shadow']?> rgba(50, 50, 50, 0.17);-moz-box-shadow: <?php  echo $currentPosition['shadow']?> rgba(50, 50, 50, 0.17);box-shadow: <?php  echo $currentPosition['shadow']?> rgba(50, 50, 50, 0.17);-webkit-border-radius: 5px;-moz-border-radius: 5px;border-radius: 5px; }\n#<?php  echo $chatCSSLayoutOptions['container_id']?> iframe{position:relative;display:block;transition-property: height;transition-duration: 0.4s;-webkit-transition: height 0.4s ease-in-out;transition: height 0.4s;}\n#<?php  echo $chatCSSLayoutOptions['container_id']?> #<?php  echo $chatCSSPrefix?>_iframe_container{border:<?php  ($theme !== false && $theme->widget_border_width > 0) ? print $theme->widget_border_width : print '1' ?>px solid #<?php  $theme !== false ? print $theme->widget_border_color : print 'cccccc' ?>;border-top: 0;border-bottom-left-radius: 5px;border-bottom-right-radius: 5px;overflow: hidden;}\n#<?php  echo $chatCSSLayoutOptions['container_id']?> iframe.<?php  echo $chatCSSPrefix?>-loading{\nbackground: #FFF url(//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/design/defaulttheme/images/general/loading.gif) no-repeat center center; }\n@media only screen and (max-device-width : <?php  ($theme !== false && $theme->widget_response_width > 0) ? print $theme->widget_response_width : print 640?>px) {ul.<?php  echo $chatCSSPrefix?>-cf li ul a{padding:8px 14px!important} ul.<?php  echo $chatCSSPrefix?>-cf li:hover ul, ul.<?php  echo $chatCSSPrefix?>-cf li ul {top: 30px;} .<?php  echo $chatCSSPrefix?>-opened{position: fixed; overflow: hidden; right: 0px; left: 0px; top: 0px; bottom: 0px;} #<?php  echo $chatCSSPrefix?>_header{height:30px;} #<?php  echo $chatCSSPrefix?>_header a{padding:7px;}#<?php  echo $chatCSSLayoutOptions['container_id']?>{position:fixed;left:0!important;right:0!important;bottom:0!important;top:0!important;border:0;border-radius:0}#<?php  echo $chatCSSLayoutOptions['container_id']?> #<?php  echo $chatCSSPrefix?>_iframe_container{border:0;height: calc(100% - 40px)}#<?php  echo $chatCSSLayoutOptions['container_id']?> iframe{width:100% !important;height: 100%!important}} .<?php  echo $chatCSSPrefix?>-min #<?php  echo $chatCSSPrefix?>_header{display:none;}.<?php  echo $chatCSSPrefix?>-min #<?php  echo $chatCSSPrefix?>_header a{padding:2px;} #<?php  echo $chatCSSLayoutOptions['container_id']?>.<?php  echo $chatCSSPrefix?>-min .status-icon{<?php  echo $currentPosition['border_status_modern']?>;<?php  echo $currentPosition['widget_radius_modern']?>;-webkit-box-shadow: <?php  echo $currentPosition['shadow_modern']?> rgba(50, 50, 50, 0.5);-moz-box-shadow:<?php  echo $currentPosition['shadow_modern']?> rgba(50, 50, 50, 0.5);box-shadow: <?php  echo $currentPosition['shadow_modern']?> rgba(50, 50, 50, 0.5);text-decoration:none;height:41px;width:41px;}#<?php  echo $chatCSSLayoutOptions['container_id']?>.<?php  echo $chatCSSPrefix?>-min{<?php  echo $currentPosition['mobile_position_modern']?>}";
<?php  endif; ?>if (!this.cssWasAdded) {this.cssWasAdded = true;this.addCss(raw_css<?php  ($theme !== false && $theme->custom_container_css !== '') ? print '+\''.str_replace(array("\n","\r"), '', $theme->custom_container_css).'\'' : '' ?>);};var fragment = this.appendHTML(this.iframe_html);var parentElement = document.body;if (typeof <?php  echo $chatOptionsVariable?> != 'undefined' &&typeof <?php  echo $chatOptionsVariable?>.opt != 'undefined' &&typeof <?php  echo $chatOptionsVariable?>.opt.widget_parent != 'undefined') {if(document.getElementById(<?php  echo $chatOptionsVariable?>.opt.widget_parent) != null) {parentElement = document.getElementById(<?php  echo $chatOptionsVariable?>.opt.widget_parent);}}parentElement.insertBefore(fragment, parentElement.childNodes[0]);var lhc_obj = this;this.addClass(document.getElementById('<?php  echo $chatCSSLayoutOptions['container_id']?>'),'<?php  echo $chatCSSPrefix?>-delayed');setTimeout(function(){lhc_obj.removeClass(document.getElementById('<?php  echo $chatCSSLayoutOptions['container_id']?>'),'<?php  echo $chatCSSPrefix?>-delayed');lhc_obj.toggleStatusWidget(true);},(typeof delayShow !== 'undefined') ? 1300 : 290);var closeHandler = document.getElementById('<?php  echo $chatCSSPrefix?>_close');if (closeHandler !== null){closeHandler.onclick = function() { lhc_obj.hide(); lh_inst.chatClosedCallback('user'); return false; };};document.getElementById('<?php  echo $chatCSSPrefix?>_min').onclick = function() { lhc_obj.min(); return false; };<?php  if ($theme === false || $theme->modern_look == 1) : ?>document.getElementById('<?php  echo $chatCSSPrefix?>_status-icon-restore').onclick = function() { lhc_obj.min(); return false; };<?php  endif ?><?php  if ('0' == 0 && ($theme === false || $theme->hide_popup == 0)) : ?>document.getElementById('<?php  echo $chatCSSPrefix?>_remote_window').onclick = function() { lhc_obj.openRemoteWindow(); return false; };<?php  endif; ?>var domContainer = document.getElementById('<?php  echo $chatCSSLayoutOptions['container_id']?>');var domIframe = '<?php  echo $chatCSSPrefix?>_iframe';var domContainerId = '<?php  echo $chatCSSLayoutOptions['container_id']?>';domContainer.onmousedown = function(e) {domContainer.setAttribute('draggable','true');};domContainer.onmouseup = function(e) {domContainer.setAttribute('draggable','false');};if (this.cookieData.pos) {var posContainer = this.cookieData.pos.split(',');<?php  if ($currentPosition['pos'] == 'r') : ?>domContainer.style.right = posContainer[0];<?php  else : ?>domContainer.style.left = posContainer[0];<?php  endif; ?><?php  if ($currentPosition['posv'] == 't') : ?>domContainer.style.top = posContainer[1];<?php  else : ?>domContainer.style.bottom = posContainer[1];<?php  endif;?>if (typeof posContainer[2] !== 'undefined' && posContainer[2] > 0){this.pendingHeight = posContainer[2];}};this.addEvent(domContainer, 'dragstart', function (event) {lhc_obj.removeById('<?php  echo $chatCSSPrefix?>_overlapse');var style = window.getComputedStyle(event.target, null);lhc_obj.offset_data = (parseInt(style.getPropertyValue("<?php  echo $currentPosition['pos'] == 'r' ? 'right' : 'left'?>"),10) + (<?php  echo $currentPosition['pos'] == 'r' ? '' : '-'?>event.clientX)) + ',' + (parseInt(style.getPropertyValue("<?php  echo $currentPosition['posv'] == 't' ? 'top' : 'bottom' ?>"),10)<?php  echo $currentPosition['posv'] == 't' ? '-' : '+' ?>event.clientY);try {event.dataTransfer.setData("text/plain",lhc_obj.offset_data);} catch (e){};lhc_obj.is_dragging = true;domContainer.style.zIndex=2147483647;theKid = document.createElement("div");theKid.innerHTML = '';theKid.setAttribute('id','<?php  echo $chatCSSPrefix?>_overlapse');theKid.style.cssText = "position:absolute;height:" + domContainer.style.height + ";width:100%;";domContainer.insertBefore(theKid, domContainer.firstChild);lhc_obj.removeClass(document.getElementById('<?php  echo $chatCSSPrefix?>_iframe'),'lhc-loading');});this.addEvent(domContainer, 'dragenter', function (e) {lhc_obj.is_dragging = true;return false;});if (!this.dragAttatched) {this.dragAttatched = true;this.addEvent(document.body, 'drop', function (event) {if (lhc_obj.is_dragging == true) {domContainer = document.getElementById(domContainerId);domContainer.style.zIndex=2147483646;lhc_obj.is_dragging = false;lhc_obj.removeById('<?php  echo $chatCSSPrefix?>_overlapse');var offset = lhc_obj.offset_data.split(',');dm = domContainer;var w = window,d = document,e = d.documentElement,g = d.getElementsByTagName('body')[0],x = w.innerWidth || e.clientWidth || g.clientWidth,y = w.innerHeight|| e.clientHeight|| g.clientHeight;var cookiePos = '';<?php  if ($currentPosition['pos'] == 'r') : ?>var rightpos = (parseInt(offset[0],10)-event.clientX);rightpos = rightpos < 0 ? 0 : rightpos;if (x < (rightpos + parseInt(dm.offsetWidth)+20)){rightpos = x - parseInt(dm.offsetWidth)-10;};dm.style.right = rightpos + 'px';cookiePos += dm.style.right;<?php  else : ?>var leftpos = (event.clientX + parseInt(offset[0],10));leftpos = leftpos < 0 ? 0 : leftpos;if (x < (leftpos + parseInt(dm.offsetWidth)+20)){leftpos = x - parseInt(dm.offsetWidth)-10;};dm.style.left = leftpos + 'px';cookiePos += dm.style.left;<?php  endif;?><?php  if ($currentPosition['posv'] == 't') : ?>var toppos = (event.clientY + parseInt(offset[1],10));toppos = toppos < 0 ? 0 :  toppos;if (y < (toppos + parseInt(dm.offsetHeight))){toppos = y - parseInt(dm.offsetHeight);};dm.style.top = toppos + 'px';cookiePos += ","+dm.style.top;<?php  else : ?>var botpos = (-event.clientY + parseInt(offset[1],10));botpos = botpos < 0 ? 0 :  botpos;if (y < (botpos + parseInt(dm.offsetHeight))){botpos = y - parseInt(dm.offsetHeight);};dm.style.bottom = botpos + 'px';cookiePos += ","+dm.style.bottom;<?php  endif;?>lhc_obj.addCookieAttribute('pos',cookiePos);event.preventDefault();domContainer.draggable = false;return false;};});this.addEvent(window, 'dragover', function (event) {if (lhc_obj.is_dragging == true) {domContainer = document.getElementById(domContainerId);domContainer.setAttribute('draggable','false');var offset = lhc_obj.offset_data.split(',');var dm = domContainer;window.dmcontainer = dm;var w = window,d = document,e = d.documentElement,g = d.getElementsByTagName('body')[0],x = w.innerWidth || e.clientWidth || g.clientWidth,y = w.innerHeight|| e.clientHeight|| g.clientHeight;<?php  if ($currentPosition['pos'] == 'r') : ?>var rightpos = (parseInt(offset[0],10)-event.clientX);rightpos = rightpos < 0 ? 0 : rightpos;if (x < (rightpos + parseInt(dm.offsetWidth)+20)){rightpos = x - parseInt(dm.offsetWidth)-10;};if (dm.style.right != rightpos + 'px') {dm.style.right = rightpos + 'px';};<?php  else : ?>var leftpos = (event.clientX + parseInt(offset[0],10));leftpos = leftpos < 0 ? 0 : leftpos;if (x < (leftpos + parseInt(dm.offsetWidth)+20)){leftpos = x - parseInt(dm.offsetWidth)-10;};if (dm.style.left != leftpos + 'px') {dm.style.left = leftpos + 'px';};<?php  endif; ?><?php  if ($currentPosition['posv'] == 't') : ?>var toppos = (event.clientY + parseInt(offset[1],10));toppos = toppos < 0 ? 0 :  toppos;if (y < (toppos + parseInt(dm.offsetHeight))){toppos = y - parseInt(dm.offsetHeight);};if (dm.style.top != toppos + 'px') {dm.style.top = toppos + 'px';}<?php  else : ?>var botpos = (-event.clientY + parseInt(offset[1],10));botpos = botpos < 0 ? 0 :  botpos;if (y < (botpos + parseInt(dm.offsetHeight))){botpos = y - parseInt(dm.offsetHeight);};if (dm.style.bottom != botpos + 'px') {dm.style.bottom = botpos + 'px';};<?php  endif; ?>event.preventDefault();return false;}});};if (this.cookieData.m) {if (this.cookieData.hash) {this.min(true);}};if (typeof delayShow === 'undefined') {this.toggleStatusWidget(true);}// If proactive invitation is shown. Check for status changes and hide popup if operator goes offline
this.checkStatusChat();},toggleStatusWidget : function(hide){if(document.getElementById('<?php  echo $chatCSSPrefix?>_status_container') != null) {if (hide == true){this.addClass(document.getElementById('<?php  echo $chatCSSPrefix?>_status_container'),'hide-status');} else {this.removeClass(document.getElementById('<?php  echo $chatCSSPrefix?>_status_container'),'hide-status');}}},lh_openchatWindow : function() {<?php  if ($click == 'internal') : ?>this.showStartWindow();<?php  else : ?>this.lhc_need_help_hide();var locationCurrent = encodeURIComponent(window.location.href.substring(window.location.protocol.length));var popupHeight = (typeof <?php  echo $chatOptionsVariable?> != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.opt != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.opt.popup_height != 'undefined') ? parseInt(<?php  echo $chatOptionsVariable?>.opt.popup_height) : 520;var popupWidth = (typeof <?php  echo $chatOptionsVariable?> != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.opt != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.opt.popup_width != 'undefined') ? parseInt(<?php  echo $chatOptionsVariable?>.opt.popup_width) : 500;window.open(this.urlopen()+this.getAppendCookieArguments()+'?URLReferer='+locationCurrent+this.parseOptions()+this.parseStorageArguments(),this.windowname,"scrollbars=yes,menubar=1,resizable=1,width="+popupWidth+",height="+popupHeight);this.chatOpenedCallback(this.isOnline == false ? 'external_offline' : 'external');<?php  endif; ?>return false;},chatOpenedCallback : function(type){if (typeof <?php  echo $chatOptionsVariable?> != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.callback != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.callback.start_chat_cb != 'undefined') {<?php  echo $chatOptionsVariable?>.callback.start_chat_cb(type+this.substatus);this.substatus = '';}},chatClosedCallback : function(type){if (typeof <?php  echo $chatOptionsVariable?> != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.callback != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.callback.close_chat_cb != 'undefined') {<?php  echo $chatOptionsVariable?>.callback.close_chat_cb(type+this.substatus);this.substatus = '';}},genericCallback : function(name){if (typeof <?php  echo $chatOptionsVariable?> != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.callback != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.callback[name] != 'undefined') {<?php  echo $chatOptionsVariable?>.callback[name](this);}},showStatusWidget : function() {<?php  if ($position == 'original' || $position == '') : ?>document.getElementById('<?php  echo $chatCSSPrefix?>_status_container').innerHTML = '<p class="<?php  echo $chatCSSPrefix?>-status-native-'+(this.isOnline == true ? 'online' : 'offline')+'"><a href="#" onclick="return lh_inst.lh_openchatWindow()">'+(this.isOnline == true ? '<img src="//<?php  echo $_SERVER['HTTP_HOST']?><?php  if ($theme !== false && $theme->online_image_url !== false) : print $theme->online_image_url; else : ?>/zcodialawfirm/ztchat/design/defaulttheme/images/icons/user_green_chat.png<?php  endif;?>" alt="" /><?php  if ($theme !== false && $theme->online_text !== '') : print htmlspecialchars_decode($theme->online_text,ENT_QUOTES); else : ?>Live help is online...<?php  endif?>' : '<img src="//<?php  echo $_SERVER['HTTP_HOST']?><?php  if ($theme !== false && $theme->offline_image_url !== false) : print $theme->offline_image_url; else : ?>/zcodialawfirm/ztchat/design/defaulttheme/images/icons/user_gray_chat.png<?php  endif;?>" alt="" /><?php  if ($theme !== false && $theme->offline_text != '') : print htmlspecialchars_decode($theme->offline_text,ENT_QUOTES); else : ?>Live help is offline...<?php  endif;?>')+'</a></p>';
<?php  elseif (in_array($position, array_keys($positionArgument))) : ?>this.removeById('<?php  echo $chatCSSPrefix?>_status_container');<?php  if ($theme !== false && $theme->modern_look == 0) : ?>var statusTEXT = '<a id="'+(this.isOnline == true ? 'online-icon' : 'offline-icon')+'" class="status-icon" href="#" onclick="return lh_inst.lh_openchatWindow()" ><span class="<?php  echo $chatCSSPrefix?>-text-status">'+(this.isOnline ? <?php  if ($theme !== false && $theme->online_text !== '') : print json_encode($theme->online_text); else : ?><?php  echo json_encode(htmlspecialchars_decode('Live help is online...',ENT_QUOTES))?><?php  endif?> : <?php  if ($theme !== false && $theme->offline_text != '') : print json_encode($theme->offline_text); else : ?><?php  echo json_encode(htmlspecialchars_decode('Live help is offline...',ENT_QUOTES))?><?php  endif?>)+'</span></a>';if (!this.cssStatusWasAdded) {this.cssStatusWasAdded = true;<?php   $iconsStatuses = array( 'online_image_url' => ($theme !== false && $theme->online_image_url !== false && strpos($theme->online_image_url, 'http') !== false), 'offline_image_url' => ($theme !== false && $theme->offline_image_url !== false && strpos($theme->offline_image_url, 'http') !== false) ); ?>var raw_css = "#<?php  echo $chatCSSPrefix?>_status_container.hide-status,#<?php  echo $chatCSSPrefix?>_status_container.hide-status-delay{display:none!important;}#<?php  echo $chatCSSPrefix?>_status_container * {direction:<?php  ('ltr' == 'ltr' || 'ltr' == '') ? print 'ltr;text-align:left;' : print 'rtl;text-align:right;'; ?>;font-family:arial;font-size:12px;box-sizing: content-box;zoom:1;margin:0;padding:0}\n#<?php  echo $chatCSSPrefix?>_status_container .status-icon{text-decoration:none;font-size:12px;font-weight:bold;color:<?php  $theme !== false ? print '#'.$theme->text_color : print '#000' ?>;display:block;padding:<?php  echo $currentPosition['padding_text']?>;background:url('<?php  if ($iconsStatuses['online_image_url'] == false) : ?>//<?php  echo $_SERVER['HTTP_HOST']?><?php  endif; ?><?php  if ($theme !== false && $theme->online_image_url !== false) : print $theme->online_image_url; else : ?>/zcodialawfirm/ztchat/design/defaulttheme/images/icons/user_green_chat.png<?php  endif;?>') no-repeat <?php  echo $currentPosition['background_position']?> center}\n#<?php  echo $chatCSSPrefix?>_status_container:hover{<?php  echo $currentPosition['widget_hover']?>}\n#<?php  echo $chatCSSPrefix?>_status_container #offline-icon{background-image:url('<?php  if ($iconsStatuses['offline_image_url'] == false) : ?>//<?php  echo $_SERVER['HTTP_HOST']?><?php  endif; ?><?php  if ($theme !== false && $theme->offline_image_url !== false) : print $theme->offline_image_url; else : ?>/zcodialawfirm/ztchat/design/defaulttheme/images/icons/user_gray_chat.png<?php  endif;?>')}\n#<?php  echo $chatCSSPrefix?>_status_container{box-sizing: content-box;<?php  echo $currentPosition['widget_radius']?>-webkit-box-shadow: <?php  echo $currentPosition['shadow']?> rgba(50, 50, 50, 0.17);<?php  echo $currentPosition['border_widget']?>;-moz-box-shadow:<?php  echo $currentPosition['shadow']?> rgba(50, 50, 50, 0.17);box-shadow: <?php  echo $currentPosition['shadow']?> rgba(50, 50, 50, 0.17);padding:5px 0px 0px 5px;width:190px;font-family:arial;font-size:12px;transition: 1s;position:fixed;<?php  echo $currentPosition['position']?>;background-color:#<?php  $theme !== false ? print $theme->onl_bcolor : print 'f6f6f6' ?>;z-index:2147483647;}@media only screen and (max-width : 640px) {#<?php  echo $chatCSSPrefix?>_need_help_container{display:none;}#<?php  echo $chatCSSPrefix?>_status_container .status-icon{padding:32px 15px 9px 31px;background-position:center center;}#<?php  echo $chatCSSPrefix?>_status_container .<?php  echo $chatCSSPrefix?>-text-status{display:none} #<?php  echo $chatCSSPrefix?>_status_container{<?php  echo $currentPosition['mobile_position_status']?>}}\n";
this.addCss(raw_css<?php  ($theme !== false && $theme->custom_status_css_front !== '') ? print '+\''.str_replace(array("\n","\r"), '', $theme->custom_status_css_front).'\'' : '' ?>);};<?php  else : ?>var statusTEXT = '<a id="'+(this.isOnline == true ? 'online-icon' : 'offline-icon')+'" class="status-icon" href="#" onclick="return lh_inst.lh_openchatWindow()" ></a>';if (!this.cssStatusWasAdded) {this.cssStatusWasAdded = true;<?php $iconsStatuses = array( 'online_image_url' => ($theme !== false && $theme->online_image_url !== false && strpos($theme->online_image_url, 'http') !== false), 'offline_image_url' => ($theme !== false && $theme->offline_image_url !== false && strpos($theme->offline_image_url, 'http') !== false) ); ?>var raw_css = "#<?php  echo $chatCSSPrefix?>_status_container.hide-status,#<?php  echo $chatCSSPrefix?>_status_container.hide-status-delay{display:none!important;}#<?php  echo $chatCSSPrefix?>_status_container * {direction:<?php  ('ltr' == 'ltr' || 'ltr' == '') ? print 'ltr;text-align:left;' : print 'rtl;text-align:right;'; ?>;font-family:arial;font-size:12px;box-sizing: content-box;zoom:1;margin:0;padding:0}\n#<?php  echo $chatCSSPrefix?>_status_container .status-icon{<?php  echo $currentPosition['border_status_modern']?>;<?php  echo $currentPosition['widget_radius_modern']?>;-webkit-box-shadow: <?php  echo $currentPosition['shadow_modern']?> rgba(50, 50, 50, 0.5);-moz-box-shadow:<?php  echo $currentPosition['shadow_modern']?> rgba(50, 50, 50, 0.5);box-shadow: <?php  echo $currentPosition['shadow_modern']?> rgba(50, 50, 50, 0.5);text-decoration:none;height:41px;width:41px;font-weight:bold;color:<?php  $theme !== false ? print '#'.$theme->text_color : print '#000' ?>;display:block;padding:10px;background:#<?php  $theme !== false ? print $theme->onl_bcolor : print '212529' ?> url('<?php  if ($iconsStatuses['online_image_url'] == false) : ?>//<?php  echo $_SERVER['HTTP_HOST']?><?php  endif; ?><?php  if ($theme !== false && $theme->online_image_url !== false) : print $theme->online_image_url; else : ?>/zcodialawfirm/ztchat/design/defaulttheme/images/getstatus/online.svg<?php  endif;?>') no-repeat center center}\n#<?php  echo $chatCSSPrefix?>_status_container:hover{<?php  echo $currentPosition['widget_hover_modern']?>}\n#<?php  echo $chatCSSPrefix?>_status_container #offline-icon{background:#888888 url('<?php  if ($iconsStatuses['offline_image_url'] == false) : ?>//<?php  echo $_SERVER['HTTP_HOST']?><?php  endif; ?><?php  if ($theme !== false && $theme->offline_image_url !== false) : print $theme->offline_image_url; else : ?>/zcodialawfirm/ztchat/design/defaulttheme/images/getstatus/offline.svg<?php  endif;?>') no-repeat center}\n#<?php  echo $chatCSSPrefix?>_status_container{box-sizing: content-box;padding:5px 0px 0px 5px;font-family:arial;font-size:12px;transition: 1s;position:fixed;<?php  echo $currentPosition['position_modern']?>;z-index:2147483647;}@media only screen and (max-width : 640px) {#<?php  echo $chatCSSPrefix?>_need_help_container{display:none;}#<?php  echo $chatCSSPrefix?>_status_container .status-icon{background-position:center center;}#<?php  echo $chatCSSPrefix?>_status_container .<?php  echo $chatCSSPrefix?>-text-status{display:none} #<?php  echo $chatCSSPrefix?>_status_container{<?php  echo $currentPosition['mobile_position_status_modern']?>}}\n";
this.addCss(raw_css<?php  ($theme !== false && $theme->custom_status_css_front !== '') ? print '+\''.str_replace(array("\n","\r"), '', $theme->custom_status_css_front).'\'' : '' ?>);};<?php  endif; ?>var subStatus = '';<?php  if (($theme !== false && $theme->show_need_help == 1) || ($theme === false && '1' == 1)) : ?>if (this.isOnline == true) {<?php  $needHelpTimeout = $theme !== false ? $theme->show_need_help_timeout : '24'; ?>var lhc_hnh = <?php  if ($needHelpTimeout > 0) : ?>lh_inst.getPersistentAttribute('lhc_hnh');<?php  else : ?>lh_inst.cookieData.lhc_hnh;<?php  endif;?>if (lhc_hnh == null || lhc_hnh == undefined || parseInt(lhc_hnh) < <?php  echo time()?>) {<?php  $nh_hor_pos = ($theme !== false && $theme->modern_look == 0) ? 'nh_hor_pos' : 'nh_hor_pos_modern'; ?>var titleText = (typeof <?php  echo $chatOptionsVariable;?>.opt.nh_title_text != 'undefined') ? <?php  echo $chatOptionsVariable;?>.opt.nh_title_text : <?php  if ($theme !== false && $theme->need_help_header !== '') : print json_encode($theme->need_help_header); else : ?><?php  echo json_encode(htmlspecialchars_decode('Need help?',ENT_QUOTES))?><?php  endif;?>;var subTitleText = (typeof <?php  echo $chatOptionsVariable;?>.opt.nh_sub_title_text != 'undefined') ? <?php  echo $chatOptionsVariable;?>.opt.nh_sub_title_text : <?php  if ($theme !== false && $theme->need_help_text !== '') : print json_encode($theme->need_help_text); else : ?><?php  echo json_encode(htmlspecialchars_decode('Our staff are always ready to help',ENT_QUOTES))?><?php  endif;?>;<?php  $iconsStatuses['need_help_image_url'] = ($theme !== false && $theme->need_help_image_url !== false && strpos($theme->need_help_image_url, 'http') !== false); ?>var imageTooltip = (typeof <?php  echo $chatOptionsVariable;?>.opt.nh_image != 'undefined') ? <?php  echo $chatOptionsVariable;?>.opt.nh_image : '<?php  if ($iconsStatuses['need_help_image_url'] == false) : ?>//<?php  echo $_SERVER['HTTP_HOST']?><?php  endif;?><?php  if ($theme !== false && $theme->need_help_image_url !== false) : print $theme->need_help_image_url; else : ?>/zcodialawfirm/ztchat/design/defaulttheme/images/general/operator.png<?php  endif;?>';
subStatus = '<div id="<?php  echo $chatCSSPrefix?>_need_help_container" style="<?php  echo $currentPosition[$nh_hor_pos]?>">'+'<span id="<?php  echo $chatCSSPrefix?>_need_help_triangle" style="<?php  echo $currentPosition['nh_tr_pos']?>"></span>'+'<i id="<?php  echo $chatCSSPrefix?>_need_help_close" title="Close" href="#">&#xd7;</i>';if (imageTooltip !== false) {subStatus += '<div id="<?php  echo $chatCSSPrefix?>_need_help_image"><img width="60" alt="" height="60" src="' + imageTooltip + '"></div>';};subStatus += '<div id="<?php  echo $chatCSSPrefix?>_need_help_main_title">'+titleText+'</div>'+'<span id="<?php  echo $chatCSSPrefix?>_need_help_sub_title">'+subTitleText+'</span>'+'</div>';};if (!this.cssNHWasAdded) {this.cssNHWasAdded = true;<?php  if ($theme !== false && $theme->modern_look == 0) : ?>var raw_css_need_hl = '#<?php  echo $chatCSSPrefix?>_need_help_container{<?php  if ($theme !== false && $theme->show_need_help_delay > 0) : ?>display:none;<?php  endif;?>width:235px;border-radius:20px;background:#<?php  $theme !== false ? print $theme->need_help_bcolor : print '648000' ?>;position:absolute;color:#<?php  $theme !== false ? print $theme->need_help_tcolor : print 'ffffff' ?>;padding:10px;border:1px solid #<?php  $theme !== false ? print $theme->need_help_border : print 'dbe257' ?>;margin-top:-105px;}#<?php  echo $chatCSSPrefix?>_need_help_container:hover{background-color:#<?php  $theme !== false ? print $theme->need_help_hover_bg : print '84A52E' ?>}#<?php  echo $chatCSSPrefix?>_need_help_container:hover #<?php  echo $chatCSSPrefix?>_need_help_triangle{border-top-color:#<?php  $theme !== false ? print $theme->need_help_hover_bg : print '84A52E' ?>}'+'#<?php  echo $chatCSSPrefix?>_need_help_triangle{width: 0;height: 0;border-left: 20px solid transparent;border-right: 10px solid transparent;border-top: 15px solid #<?php  $theme !== false ? print $theme->need_help_bcolor : print '648000' ?>;position:absolute;bottom:-14px;}'+'#<?php  echo $chatCSSPrefix?>_need_help_close{cursor:pointer;float:right;border-radius:10px;background:#<?php  $theme !== false ? print $theme->need_help_close_bg : print '435A05' ?>;padding:0px 6px;color:#FFF;right:10px;font-size:16px;font-weight:bold;text-decoration:none;margin-top:0px;line-height:20px}#<?php  echo $chatCSSPrefix?>_need_help_close:hover{background-color:#<?php  $theme !== false ? print $theme->need_help_close_hover_bg : print '74990F' ?>;}'+'#<?php  echo $chatCSSPrefix?>_need_help_image{padding-right:10px;float:left;cursor:pointer;}#<?php  echo $chatCSSPrefix?>_need_help_image img{border-radius:30px;border:1px solid #d0d0d0}#<?php  echo $chatCSSPrefix?>_need_help_main_title{font-size:16px;font-weight:bold;cursor:pointer;line-height:1.5}#<?php  echo $chatCSSPrefix?>_need_help_sub_title{cursor:pointer;line-height:1.5}';<?php  else : ?>var raw_css_need_hl = '#<?php  echo $chatCSSPrefix?>_need_help_container{<?php  if ($theme !== false && $theme->show_need_help_delay > 0) : ?>display:none;<?php  endif;?>width:235px;border-radius:30px;background:#<?php  $theme !== false ? print $theme->need_help_bcolor : print '212529' ?>;position:absolute;color:#<?php  $theme !== false ? print $theme->need_help_tcolor : print 'ffffff' ?>;padding:10px;border:1px solid #<?php  $theme !== false ? print $theme->need_help_border : print '3ca5d0' ?>;margin-top:-105px;}#<?php  echo $chatCSSPrefix?>_need_help_container:hover{background-color:#<?php  $theme !== false ? print $theme->need_help_hover_bg : print '3ca5d0' ?>}#<?php  echo $chatCSSPrefix?>_need_help_container:hover #<?php  echo $chatCSSPrefix?>_need_help_triangle{border-top-color:#<?php  $theme !== false ? print $theme->need_help_hover_bg : print '3ca5d0' ?>}'+'#<?php  echo $chatCSSPrefix?>_need_help_triangle{width: 0;height: 0;border-left: 20px solid transparent;border-right: 10px solid transparent;border-top: 15px solid #<?php  $theme !== false ? print $theme->need_help_bcolor : print '212529' ?>;position:absolute;bottom:-14px;}'+'#<?php  echo $chatCSSPrefix?>_need_help_close{cursor:pointer;float:right;border-radius:16px;background:#<?php  $theme !== false ? print $theme->need_help_close_bg : print '000' ?>;padding:1px 7px 0px 6px;color:#FFF;right:10px;font-size:16px;font-weight:bold;text-decoration:none;margin-top:-5px;line-height:21px}#<?php  echo $chatCSSPrefix?>_need_help_close:hover{background-color:#<?php  $theme !== false ? print $theme->need_help_close_hover_bg : print '444' ?>;}'+'#<?php  echo $chatCSSPrefix?>_need_help_image{padding-right:10px;float:left;cursor:pointer;}#<?php  echo $chatCSSPrefix?>_need_help_image img{border-radius:30px;border:1px solid #d0d0d0}#<?php  echo $chatCSSPrefix?>_need_help_main_title{font-size:16px;font-weight:bold;cursor:pointer;line-height:1.5}#<?php  echo $chatCSSPrefix?>_need_help_sub_title{cursor:pointer;line-height:1.5}';<?php  endif; ?>this.addCss(raw_css_need_hl);<?php  if ($theme !== false && $theme->show_need_help_delay > 0) : ?>setTimeout(function(){document.getElementById("<?php  echo $chatCSSPrefix?>_need_help_container").style.display = "inline-block";},<?php  echo $theme->show_need_help_delay*1000?>);<?php  endif ?>};};<?php  endif;?>var statusInitial = '';<?php  if ($theme !== false && $theme->show_status_delay > 0) : ?>statusInitial = ' class="hide-status-delay" ';setTimeout( function() {var dm = document.getElementById('<?php  echo $chatCSSPrefix?>_status_container');that.removeClass(dm,'hide-status-delay');},<?php  echo $theme->show_status_delay*1000?>);<?php  endif ?>var htmlStatus = '<div id="<?php  echo $chatCSSPrefix?>_status_container"' + statusInitial + '>'+subStatus+statusTEXT+'</div>';var fragment = this.appendHTML(htmlStatus);document.body.insertBefore(fragment, document.body.childNodes[0]);var that = this;if (subStatus != '') {document.getElementById('<?php  echo $chatCSSPrefix?>_need_help_image').onclick = function() { that.lhc_need_help_click(); return false; };document.getElementById('<?php  echo $chatCSSPrefix?>_need_help_main_title').onclick = function() { that.lhc_need_help_click(); return false; };document.getElementById('<?php  echo $chatCSSPrefix?>_need_help_sub_title').onclick = function() { that.lhc_need_help_click(); return false; };document.getElementById('<?php  echo $chatCSSPrefix?>_need_help_close').onclick = function() { that.lhc_need_help_hide(); return false; };}<?php  endif; ?>if (typeof <?php  echo $chatOptionsVariable?> != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.callback != 'undefined' && typeof <?php  echo $chatOptionsVariable?>.callback.show_widget_cb != 'undefined') {<?php  echo $chatOptionsVariable?>.callback.show_widget_cb(this);};},timeoutInstance : null,stopCheckNewMessage : function() {clearTimeout(this.timeoutInstance);},tag : '',addTag : function(tag) {this.tag = this.tag != '' ? this.tag + ',' + tag : '&tag='+tag;},updateAttribute : function(attributes) {var xhr = new XMLHttpRequest();xhr.open( "POST", '//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/index.php'+this.lang+'/chat/updateattribute'+this.getAppendCookieArguments(), true);
xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");xhr.send( "data=" + encodeURIComponent( this.JSON.stringify(attributes) ) );},startNewMessageCheck : function() {var vid = this.cookieDataPers.vid;var inst = this;var locationCurrent = encodeURIComponent(window.location.href.substring(window.location.protocol.length));this.timeoutInstance = setTimeout(function() {lh_inst.removeById('lhc_operator_message');var dynamic = inst.dynamicAssigned.length > 0 ? '/(dyn)/' +  inst.dynamicAssigned.join('/') : '';var th = document.getElementsByTagName('head')[0];var s = document.createElement('script');s.setAttribute('id','lhc_operator_message');s.setAttribute('type','text/javascript');s.setAttribute('src','//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/index.php'+lh_inst.lang+'/chat/chatcheckoperatormessage<?php  $priority !== false ? print '/(priority)/'.$priority : ''?><?php  $theme !== false ? print '/(theme)/'.$theme->id : ''?><?php  $operator !== false ? print '/(operator)/'.$operator : ''?><?php  $department !== false ? print '/(department)/'.$department : ''?><?php  $identifier !== false ? print '/(identifier)/'.htmlspecialchars($identifier) : ''?><?php  $uarguments !== false ? print '/(ua)/'.$uarguments : '' ?><?= isset($currentPosition['full_height']) && $currentPosition['full_height'] ? '/(fullheight)/true' : '/(fullheight)/false' ?>/(vid)/'+vid + lh_inst.survey_id + '/(uactiv)/'+lh_inst.userActive+'/(wopen)/'+lh_inst.timeoutStatusWidgetOpen+dynamic+'?l='+locationCurrent+inst.tag+'&dt='+encodeURIComponent(document.title)+'&ts='+Date.now());
th.appendChild(s);lh_inst.startNewMessageCheck();}, <?php  echo (int)('10'*1000); ?> );},getTzOffset : function(){Date.prototype.stdTimezoneOffset = function() {var jan = new Date(this.getFullYear(), 0, 1);var jul = new Date(this.getFullYear(), 6, 1);return Math.max(jan.getTimezoneOffset(), jul.getTimezoneOffset());};Date.prototype.dst = function() {return this.getTimezoneOffset() < this.stdTimezoneOffset();};var today = new Date();var timeZoneOffset = 0;if (today.dst()) {timeZoneOffset = today.getTimezoneOffset();} else {timeZoneOffset = today.getTimezoneOffset()-60;};return (timeZoneOffset/60)*-1;},startNewMessageCheckSingle : function() {var vid = this.cookieDataPers.vid;lh_inst.removeById('lhc_operator_message');var th = document.getElementsByTagName('head')[0];var s = document.createElement('script');var locationCurrent = encodeURIComponent(window.location.href.substring(window.location.protocol.length));var tzOffset = this.getTzOffset();var dynamic = this.dynamicAssigned.length > 0 ? '/(dyn)/' +  this.dynamicAssigned.join('/'): '';s.setAttribute('id','lhc_operator_message');s.setAttribute('type','text/javascript');s.setAttribute('src','//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/index.php'+this.lang+'/chat/chatcheckoperatormessage<?php  $priority !== false ? print '/(priority)/'.$priority : ''?><?php  $theme !== false ? print '/(theme)/'.$theme->id : ''?><?php  $operator !== false ? print '/(operator)/'.$operator : ''?><?php  $department !== false ? print '/(department)/'.$department : ''?><?php  $identifier !== false ? print '/(identifier)/'.htmlspecialchars($identifier) : ''?><?php  $uarguments !== false ? print '/(ua)/'.$uarguments : '' ?><?= isset($currentPosition['full_height']) && $currentPosition['full_height'] ? '/(fullheight)/true' : '/(fullheight)/false' ?>/(tz)/' + tzOffset + this.survey_id + '/(count_page)/1/(vid)/'+vid+'/(uactiv)/'+lh_inst.userActive+'/(wopen)/'+lh_inst.timeoutStatusWidgetOpen+dynamic+'?l='+locationCurrent+this.tag+this.parseStorageArguments()+this.parseOptionsOnline()+'&dt='+encodeURIComponent(document.title)+'&ts='+Date.now());
th.appendChild(s);},logPageView : function() {var vid = this.cookieDataPers.vid;var th = document.getElementsByTagName('head')[0];var s = document.createElement('script');var locationCurrent = encodeURIComponent(window.location.href.substring(window.location.protocol.length));var tzOffset = this.getTzOffset();s.setAttribute('id','lhc_log_pageview');s.setAttribute('type','text/javascript');s.setAttribute('src','//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/index.php'+this.lang+'/chat/logpageview<?php  $department !== false ? print '/(department)/'.$department : ''?><?php  $identifier !== false ? print '/(identifier)/'.htmlspecialchars($identifier) : ''?><?php  $uarguments !== false ? print '/(ua)/'.$uarguments : '' ?>/(tz)/'+tzOffset+'/(vid)/' + vid + this.survey_id + '/(uactiv)/'+lh_inst.userActive+'/(wopen)/'+lh_inst.timeoutStatusWidgetOpen+'?l='+locationCurrent+this.parseStorageArguments()+this.parseOptionsOnline()+'&dt='+encodeURIComponent(document.title)+'&ts='+Date.now());
th.appendChild(s);},storeEvents : function() {if (typeof <?php  echo $chatOptionsVariable?>.events != 'undefined') {if (<?php  echo $chatOptionsVariable?>.events.length > 0) {var xhr = new XMLHttpRequest();xhr.open( "POST", '//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/index.php'+this.lang+'/chat/logevent'+this.getAppendCookieArguments(), true);
xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");xhr.send( "data=" + encodeURIComponent( this.JSON.stringify(<?php  echo $chatOptionsVariable?>.events) ) );<?php  echo $chatOptionsVariable?>.events = new Array();}}},logEvent : function(events) {<?php  echo $chatOptionsVariable?>.events = events;this.storeEvents();},removeCookieAttr : function(attr){if (this.cookieData[attr]) {delete this.cookieData[attr];this.storeSesCookie();}},addCookieAttribute : function(attr, value){if (!this.cookieData[attr] || this.cookieData[attr] != value){this.cookieData[attr] = value;this.storeSesCookie();}},storePersistenCookie : function(){try {lhc_Cookies('lhc_per',this.JSON.stringify(this.cookieDataPers),{expires:16070400<?php  $trackDomain != '' || $disableHTML5Storage == 1 ? ($trackDomain != '' ? print ",domain:'.{$trackDomain}'" : print ",domain:this.getCookieDomain()") : ''?>});} catch(err) { };},setVid : function(vid) {if ((this.cookieDataPers.vid && vid != this.cookieDataPers.vid) || !this.cookieDataPers.vid) {var old = this.cookieDataPers.vid;this.addCookieAttributePersistent('vid',vid);<?php  if ($trackOnline == true && $disable_online_tracking == false) : ?>lh_inst.stopCheckNewMessage();lh_inst.logPageView();if (!lh_inst.cookieData.hash) {lh_inst.startNewMessageCheck();}<?php  endif;?>if (old && old != this.cookieDataPers.vid) {var inst = this;setTimeout(function(){var xhr = new XMLHttpRequest();xhr.open( "POST", '//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/index.php'+inst.lang+'/chat/setnewvid', true);
xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");xhr.send( "data=" + encodeURIComponent( inst.JSON.stringify({'vid':old,'new':vid}) ) );},1000);}}},storeSesCookie : function(){<?php  if ($trackDomain == '' && $disableHTML5Storage == 0) : ?>if (localStorage) {try {localStorage.setItem('lhc_ses',this.JSON.stringify(this.cookieData));} catch(err) { // Fallback to cookie
lhc_Cookies('lhc_ses',this.JSON.stringify(this.cookieData),{<?php  $trackDomain != '' || $disableHTML5Storage == 1 ? ($trackDomain != '' ? print "domain:'.{$trackDomain}'" : print "domain:this.getCookieDomain()") : ''?>});};} else {<?php  endif;?>lhc_Cookies('lhc_ses',this.JSON.stringify(this.cookieData),{<?php  $trackDomain != '' || $disableHTML5Storage == 1 ? ($trackDomain != '' ? print "domain:'.{$trackDomain}'" : print "domain:this.getCookieDomain()") : ''?>});<?php  if ($trackDomain == '' && $disableHTML5Storage == 0) : ?>}<?php  endif;?>},initSessionStorage : function(){<?php  if ($trackDomain == '' && $disableHTML5Storage == 0) : ?>if (localStorage && localStorage.getItem('lhc_ses')) {this.cookieData = this.JSON.parse(localStorage.getItem('lhc_ses'));} else {<?php  endif;?>var cookieData = lhc_Cookies('lhc_ses');if ( typeof cookieData === "string" && cookieData ) {this.cookieData = this.JSON.parse(cookieData);}<?php  if ($trackDomain == '' && $disableHTML5Storage == 0) : ?>}<?php  endif;?>},storeReferrer : function(ref){if (sessionStorage && !sessionStorage.getItem('lhc_ref')) {try {sessionStorage.setItem('lhc_ref',ref);} catch(err) {};}},makeScreenshot : function() {var inst = this;if (typeof html2canvas == "undefined") {var th = document.getElementsByTagName('head')[0];var s = document.createElement('script');s.setAttribute('type','text/javascript');s.setAttribute('src','//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/design/defaulttheme/js/html2canvas.min.js');
th.appendChild(s);s.onreadystatechange = s.onload = function(){inst.makeScreenshot();};} else {try {html2canvas(document.body, {onrendered: function(canvas) {var xhr = new XMLHttpRequest();xhr.open( "POST", '//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/index.php'+lh_inst.lang+'/file/storescreenshot'+inst.getAppendCookieArguments(), true);
xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");xhr.send( "data=" + encodeURIComponent( canvas.toDataURL() ) );}});} catch(err) {}};},finishScreenSharing : function(){this.removeById('lhc_status_mirror');this.removeCookieAttr('shr');this.removeCookieAttr('shrm');this.isSharing = false;var vid = this.cookieDataPers.vid;var th = document.getElementsByTagName('head')[0];var s = document.createElement('script');var locationCurrent = encodeURIComponent(window.location.href.substring(window.location.protocol.length));var tzOffset = this.getTzOffset();s.setAttribute('id','lhc_finish_shr');s.setAttribute('type','text/javascript');s.setAttribute('src','//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/index.php'+lh_inst.lang+'/cobrowse/finishsession/(sharemode)/'+lh_inst.sharemode+lh_inst.getAppendCookieArguments());
th.appendChild(s);this.cobrowser = null;},cobrowse : null,startCoBrowse : function(chatHash,sharemode){var inst = this;if (this.isSharing == false && (this.cookieData.shr || <?php  echo (int)'0'?> == 1 || confirm(<?php  echo json_encode(htmlspecialchars_decode('Allow operator to see your page content?',ENT_QUOTES))?>))){this.sharehash = chatHash || this.cookieData.hash || this.cookieData.shr;this.sharemode = sharemode || this.cookieData.shrm || 'chat';this.addCookieAttribute('shr',this.sharehash);this.addCookieAttribute('shrm',this.sharemode);if (typeof TreeMirror == "undefined") {var th = document.getElementsByTagName('head')[0];var s = document.createElement('script');s.setAttribute('type','text/javascript');s.setAttribute('src','//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/cache/compiledtemplates/ce2ce510abf1de2d9ef2f320e993813a.js');
th.appendChild(s);s.onreadystatechange = s.onload = function(){inst.startCoBrowse(inst.sharehash,this.sharemode);};} else {try {this.isSharing = true;this.addCookieAttribute('shr',this.sharehash);this.addCookieAttribute('shrm',this.sharemode);if(typeof formsEnabled == "undefined") var formsEnabled = false;this.cobrowser = new LHCCoBrowser({'formsenabled':formsEnabled,'chat_hash':this.sharehash,'nodejssettings':{'nodejssocket':<?php  echo json_encode('https://cdn.socket.io/socket.io-1.1.0.js')?>,'nodejshost':<?php  echo json_encode('' != '' ? '' : $_SERVER['HTTP_HOST'])?>,'path':'','secure':<?php  if ((int)'0' == 1) : ?>true<?php  else : ?>false<?php  endif;?>},'nodejsenabled':<?php  echo (int)'0'?>,'trans':{'operator_watching':<?php  echo json_encode(htmlspecialchars_decode('Screen shared, click to finish',ENT_QUOTES))?>},'url':'//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/index.php'+lh_inst.lang+'/cobrowse/storenodemap/(sharemode)/'+inst.sharemode+inst.getAppendCookieArguments()+'/?url='+encodeURIComponent(location.href.match(/^(.*\/)[^\/]*$/)[1])});
this.cobrowser.startMirroring();} catch(err) {console.log(err);}};}},lhc_need_help_hide :function() {this.removeById('<?php  echo $chatCSSPrefix?>_need_help_container');<?php  $needHelpTimeout = $theme !== false ? $theme->show_need_help_timeout : '24'; ?><?php  if ($needHelpTimeout > 0) : ?>this.addCookieAttributePersistent('lhc_hnh','<?php  echo (($needHelpTimeout * 3600) + time())?>');<?php  else : ?>if (localStorage) {localStorage.removeItem('lhc_hnh');};this.addCookieAttribute('lhc_hnh','<?php  echo ((24 * 3600) + time())?>');<?php  endif; ?>return false;},getPersistentAttribute : function(attr) {<?php  if ($trackDomain == '' && $disableHTML5Storage == 0) : ?>if (localStorage) {return localStorage.getItem(attr);} else {<?php  endif;?>if (this.cookieDataPers[attr]){return this.cookieDataPers[attr];}return null;<?php  if ($trackDomain == '' && $disableHTML5Storage == 0) : ?>}<?php  endif;?>},addCookieAttributePersistent : function(attr, value){<?php  if ($trackDomain == '' && $disableHTML5Storage == 0) : ?>if (localStorage) {try {localStorage.setItem(attr,value);} catch(err) {if (!this.cookieDataPers[attr] || this.cookieDataPers[attr] != value){this.cookieDataPers[attr] = value;this.storePersistenCookie();};};} else {<?php  endif;?>if (!this.cookieDataPers[attr] || this.cookieDataPers[attr] != value){this.cookieDataPers[attr] = value;this.storePersistenCookie();}<?php  if ($trackDomain == '' && $disableHTML5Storage == 0) : ?>}<?php  endif;?>},lhc_need_help_click : function() {this.lhc_need_help_hide();this.lh_openchatWindow();},initLanguage : function() {var langUser = this.getPersistentAttribute('lng');this.lang = (langUser != null && langUser != '' && langUser != undefined && this.langDefault != langUser) ? langUser : this.lang;},resetTimeoutActivity : function() {var wasInactive = this.userActive == 0;this.userActive = 1;if (wasInactive == true) {this.syncUserStatus(1);}clearTimeout(this.timeoutActivity);var _that = this;this.timeoutActivity = setTimeout(function(){_that.userActive = 0;_that.syncUserStatus(1);}, 300*1000);},timeoutActivity : null,userActive : 1,timeoutStatuscheck : null,timeoutStatusWidgetOpen : 0,syncUserStatus : function(sender) {var hashAppend = this.cookieData.hash ? '/(hash)/'+this.cookieData.hash : '';var hashResume = this.cookieData.hash_resume ? '/(hash_resume)/'+this.cookieData.hash_resume : '';this.removeById('lhc_check_status');var th = document.getElementsByTagName('head')[0];var s = document.createElement('script');s.setAttribute('id','lhc_check_status');s.setAttribute('type','text/javascript');s.setAttribute('src','//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/index.php'+this.lang+'/chat/chatcheckstatus<?php  $department !== false ? print '/(department)/'.$department : ''?><?php  $uarguments !== false ? print '/(ua)/'.$uarguments : '' ?><?php  $disable_online_tracking === true ? print '/(dot)/true' : ''?><?php  $hide_offline == 'true' ? print '/(hide_offline)/true' : ''?>/(status)/' + this.isOnline + this.survey_id + (this.cookieDataPers.vid ? '/(vid)/'+this.cookieDataPers.vid : '')+ hashAppend + hashResume + '/(uactiv)/'+this.userActive+'/(wopen)/'+this.timeoutStatusWidgetOpen + '/(uaction)/'+sender+'/(isproactive)/'+this.isProactivePending+'/?ts='+Date.now());
th.appendChild(s);},checkStatusChat : function() {if (<?php  echo (int)'0' > 0 ? 'true' : 'false' ?> || this.isProactivePending === 1) {clearTimeout(this.timeoutStatuscheck);var _that = this;this.timeoutStatuscheck = setTimeout(function() {_that.syncUserStatus(0);_that.checkStatusChat();},<?php  echo ((int)'0' > 0 ? (int)'0' : 10)*1000; ?>);}},refreshCustomFields : function() {var xhr = new XMLHttpRequest();xhr.open( "POST", '//<?php  echo $_SERVER['HTTP_HOST']?>/zcodialawfirm/ztchat/index.php'+lh_inst.lang+'/chat/refreshcustomfields'+this.getAppendCookieArguments() , true);
xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");xhr.send(this.parseOptions());},attatchActivityListeners : function() {<?php  if ((int)'0' > 0) : ?>var resetTimeout = function() {lh_inst.resetTimeoutActivity();};<?php  if ((int)'0' == 1) : ?>this.addEvent(window,'mousemove',resetTimeout);this.addEvent(document,'mousemove',resetTimeout);<?php  endif;?>this.addEvent(window,'mousedown',resetTimeout);this.addEvent(window,'click',resetTimeout);this.addEvent(window,'scroll',resetTimeout);this.addEvent(window,'keypress',resetTimeout);this.addEvent(window,'load',resetTimeout);this.addEvent(document,'scroll',resetTimeout);this.addEvent(document,'touchstart',resetTimeout);this.addEvent(document,'touchend',resetTimeout);this.resetTimeoutActivity();<?php  endif;?>},handleMessage : function(e) {if (typeof e.data !== 'string') { return; }var action = e.data.split(':')[0];if (action == 'lhc_newopmsg') {if ( lh_inst.isMinimized == true) {var msgNum = document.getElementById('<?php  echo $chatCSSPrefix?>-msg-number');msgNum.innerHTML = (parseInt(msgNum.msg_number)+1);msgNum.msg_number++;var dm = document.getElementById('<?php  echo $chatCSSLayoutOptions['container_id']?>');lh_inst.addClass(dm, '<?php  echo $chatCSSPrefix?>-has-unread-message');}} else if (action == 'lhc_sizing_chat') {var height = e.data.split(':')[1];var elementObject = document.getElementById('<?php  echo $chatCSSPrefix?>_iframe');var iframeContainer = document.getElementById('<?php  echo $chatCSSLayoutOptions['container_id']?>');if (typeof lh_inst.pendingHeight !== 'undefined' && typeof lh_inst.heightSet == 'undefined' && lh_inst.pendingHeight > 0) {height = lh_inst.pendingHeight;lh_inst.heightSet = true;}if (elementObject){elementObject.height = height;elementObject.style.height = height+'px';}iframeContainer.className = iframeContainer.className;} else if (action == 'lhc_ch') {var parts = e.data.split(':');if (parts[1] != '' && parts[2] != '') {lh_inst.addCookieAttribute(parts[1],parts[2]);if (parts[1] == 'hash') {lh_inst.chat_started = true;}}} else if (action == 'lhc_open_restore') {lh_inst.lh_openchatWindow();} else if (action == 'lhc_continue_chat') {lh_inst.showStartWindow();} else if (action == 'lhc_cfrefresh') {lh_inst.refreshCustomFields();} else if (action == 'lhc_screenshot') {lh_inst.makeScreenshot();} else if (action == 'lhc_disable_survey') {lh_inst.surveyShown = true;} else if (action == 'lhc_chat_closed_explicit') {lh_inst.explicitClose = true;lh_inst.hide();} else if (action == 'lhc_chat_closed') {var parts = e.data.split(':');parts.shift();if (parts.length > 0){lh_inst.appendArg(parts);}lh_inst.showSurvey();} else if (action == 'lhc_cobrowse') {lh_inst.startCoBrowse(e.data.split(':')[1],'chat');} else if (action == 'lhc_cobrowse_online') {lh_inst.startCoBrowse(e.data.split(':')[1],'onlineuser');} else if (action == 'lhc_chat_redirect') {document.location = e.data.split(':')[1].replace(new RegExp('__SPLIT__','g'),':');} else if (action == 'lhc_cobrowse_cmd') {if (lh_inst.cobrowser !== null){lh_inst.cobrowser.handleMessage(e.data.split(':'));};} else if (action == 'lhc_lang') {var lang = e.data.split(':')[1];if (lang != undefined) {lh_inst.addCookieAttributePersistent('lng',lang);lh_inst.lang = lang;} else {lh_inst.addCookieAttributePersistent('lng','');lh_inst.lang = '';}} else if (action == 'lh_callback') {var functionName = e.data.split(':')[1];lh_inst.genericCallback(functionName);} else if (action == 'lhc_close') {lh_inst.hide();lh_inst.chatClosedCallback('message')} <?php   ?>}};function preloadDataLHC() {if (lh_inst.rendered == true) {return;}lh_inst.rendered = true;<?php   ?>var cookieData = lhc_Cookies('lhc_per');if ( typeof cookieData === "string" && cookieData ) {lh_inst.cookieDataPers = lh_inst.JSON.parse(cookieData);if (!lh_inst.cookieDataPers.vid) {lh_inst.cookieDataPers = {<?php  isset($vid) ? print 'vid:\''.$vid.'\'' : ''?>};lh_inst.storePersistenCookie();};} else {lh_inst.cookieDataPers = {<?php  isset($vid) ? print 'vid:\''.$vid.'\'' : ''?>};lh_inst.storePersistenCookie();};lh_inst.initSessionStorage();lh_inst.initLanguage();<?php  if ($referrer != '') : ?>lh_inst.storeReferrer(<?php  echo json_encode($referrer)?>);<?php  endif; ?><?php  if (!($isOnlineHelp == false && $hide_offline == 'true')) : ?>lh_inst.showStatusWidget();if (lh_inst.cookieData.hash) {lh_inst.stopCheckNewMessage();lh_inst.substatus = '_reopen';lh_inst.toggleStatusWidget(true);lh_inst.showStartWindow(undefined,true);<?php  if (($track_online_users == true || $trackOnline == true) && $disable_online_tracking == false) : ?>lh_inst.logPageView();lh_inst.online_tracked = true;<?php  endif;?>}<?php  if ($check_operator_messages == 'true' && $disable_pro_active == false && $disable_online_tracking == false) : ?>if (!lh_inst.cookieData.hash) {lh_inst.startNewMessageCheck();lh_inst.online_tracked = true;}<?php  endif; ?><?php  if ($disable_pro_active == false && $track_online_users == true && $disable_online_tracking == false) : ?>if (!lh_inst.cookieData.hash) {lh_inst.startNewMessageCheckSingle();lh_inst.online_tracked = true;}<?php  endif;?><?php  if ($trackOnline == true && $disable_online_tracking == false) : ?>if (lh_inst.online_tracked == false) {lh_inst.logPageView();};<?php  endif;?>if (lh_inst.cookieData.shr) {lh_inst.startCoBrowse(lh_inst.cookieData.shr);};<?php  elseif ($track_online_users == true) : ?>lh_inst.logPageView();<?php  endif;?>lh_inst.checkStatusChat();lh_inst.attatchActivityListeners();lh_inst.storeEvents();lh_inst.genericCallback('loaded');}preloadDataLHC();function resetLHCRender(){lh_inst.rendered = false;}if ( window.addEventListener ){// FF
window.addEventListener("message", lh_inst.handleMessage, false);window.addEventListener("pageshow", preloadDataLHC, false);window.addEventListener("beforeunload", resetLHCRender, false);} else if ( window.attachEvent ) {// IE
window.attachEvent("onmessage", lh_inst.handleMessage);window.attachEvent("onpageshow", preloadDataLHC);window.attachEvent("beforeunload", resetLHCRender);} else if ( document.attachEvent ) {// IE
document.attachEvent("onmessage", lh_inst.handleMessage);document.attachEvent("onpageshow", preloadDataLHC);document.attachEvent("beforeunload", resetLHCRender);};<?php  endif;exit; ?>